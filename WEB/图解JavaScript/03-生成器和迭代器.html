<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>图解JavaScript之生成器和迭代器</title>
    <meta name="description" content="100 days to enhance your skills on JavaScript.">
    <link rel="stylesheet" href="/assets/style.7a455c8b.css">
    <link rel="modulepreload" href="/assets/chunks/virtual_search-data.2b1d5c4e.js">
    <link rel="modulepreload" href="/assets/chunks/vue3-pdf-embed.c5b3a2a8.js">
    <link rel="modulepreload" href="/assets/chunks/vue3-video-player.common.ab743342.js">
    <link rel="modulepreload" href="/assets/chunks/vue-codemirror.esm.c0811e96.js">
    <link rel="modulepreload" href="/assets/chunks/index.cfa69757.js">
    <link rel="modulepreload" href="/assets/chunks/gitalk.599ce674.js">
    <link rel="modulepreload" href="/assets/app.5171f31b.js">
    <link rel="modulepreload" href="/assets/WEB_图解JavaScript_03-生成器和迭代器.md.01cf41f0.lean.js">
    
    <link rel="shortcut icon" href="/logo/favicon.ico" sizes="any">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#579871">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/logo/apple-touch-icon.png">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-49e234f8><!--[--><!--]--><!--[--><span tabindex="-1" data-v-1dea7684></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-1dea7684> Skip to content </a><!--]--><!----><header class="VPNav" data-v-49e234f8 data-v-a7a7ad35><div class="VPNavBar has-sidebar" data-v-a7a7ad35 data-v-685fc3b8><div class="container" data-v-685fc3b8><div class="VPNavBarTitle has-sidebar" data-v-685fc3b8 data-v-ef893abd><a class="title" href="/" data-v-ef893abd><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo/favicon-16x16.png" alt data-v-4dd7211c><!--]--><!--[-->100 days of JavaScript<!--]--><!--[--><!--]--></a></div><div class="content" data-v-685fc3b8><!--[--><!--]--><div class="VPNavBarSearch search" data-v-685fc3b8><!--teleport start--><!--teleport end--><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-685fc3b8 data-v-367bd816><span id="main-nav-aria-label" class="visually-hidden" data-v-367bd816>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 📂 CS <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/0-%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 0-开始上手<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/01-VIM%E6%93%8D%E4%BD%9C%E8%A1%A8" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 01-VIM操作表<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/02-Emoji%20For%20Markdown" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 02-Emoji For Markdown<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/0-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📂 操作系统<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/0-%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📂 网络原理<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 📂 DSA <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/DSA/0-%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 0-开始上手<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/DSA/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/0-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📂 数据结构<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 📂 Interview <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/Interview/0-%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 0-开始上手<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 📂 WEB <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/WEB/0-%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 0-开始上手<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/WEB/01-%E5%89%8D%E7%AB%AF%E6%BA%90%E7%A0%81%E7%A0%94%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 01-前端源码研读<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/0-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📂 图解JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/0-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📂 进击的V8<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 🗳️ More <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/%E7%A4%BA%E4%BE%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->示例<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/%E5%85%B3%E4%BA%8E" data-v-54e7c437 data-v-db2fda6a><!--[-->关于<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> ⛓️ Links <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://source.jonsam.site" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->源码阅读<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://dsa.jonsam.site" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->Fancy-DSA<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://webrtc.jonsam.site" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->Fancy-WebRTC<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://ox.jonsam.site/tags/?tag=JavaScript" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->氧气空间<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="http://docs.jonsam.site/project-5/" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->深入学习设计模式<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://source.jonsam.site/nav" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->导航<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="https://www.jonsam.site" target="_blank" rel="noreferrer" data-v-367bd816 data-v-3aac26cc data-v-db2fda6a><!--[-->📮 Blog<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-685fc3b8 data-v-25c795e0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-25c795e0 data-v-6f730ecd data-v-a14320ce><span class="check" data-v-a14320ce><span class="icon" data-v-a14320ce><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6f730ecd><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6f730ecd><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-685fc3b8 data-v-1272952b data-v-ef7ca401><!--[--><a class="VPSocialLink" href="https://github.com/jonsam-ng/100-day-of-js-enhance" target="_blank" rel="noopener" data-v-ef7ca401 data-v-da94e4e2><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-685fc3b8 data-v-fb94d383 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-5762d21d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-5762d21d><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><!----><!--[--><!--[--><!----><div class="group" data-v-fb94d383><div class="item appearance" data-v-fb94d383><p class="label" data-v-fb94d383>Appearance</p><div class="appearance-action" data-v-fb94d383><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-fb94d383 data-v-6f730ecd data-v-a14320ce><span class="check" data-v-a14320ce><span class="icon" data-v-a14320ce><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6f730ecd><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6f730ecd><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-fb94d383><div class="item social-links" data-v-fb94d383><div class="VPSocialLinks social-links-list" data-v-fb94d383 data-v-ef7ca401><!--[--><a class="VPSocialLink" href="https://github.com/jonsam-ng/100-day-of-js-enhance" target="_blank" rel="noopener" data-v-ef7ca401 data-v-da94e4e2><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-685fc3b8 data-v-0e5cd429><span class="container" data-v-0e5cd429><span class="top" data-v-0e5cd429></span><span class="middle" data-v-0e5cd429></span><span class="bottom" data-v-0e5cd429></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-49e234f8 data-v-b567db91><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b567db91><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b567db91><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b567db91>Menu</span></button><a class="top-link" href="#" data-v-b567db91> Return to top </a></div><aside class="VPSidebar" data-v-49e234f8 data-v-050ee716><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-050ee716><span class="visually-hidden" id="sidebar-aria-label" data-v-050ee716> Sidebar Navigation </span><!--[--><div class="group" data-v-050ee716><section class="VPSidebarGroup collapsible" data-v-050ee716 data-v-81cf2620><div class="title" role="button" data-v-81cf2620><h2 class="title-text" data-v-81cf2620>📂 WEB</h2><div class="action" data-v-81cf2620><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-81cf2620><!--[--><!--[--><a class="VPLink link link" href="/WEB/0-%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 0-开始上手</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/01-%E5%89%8D%E7%AB%AF%E6%BA%90%E7%A0%81%E7%A0%94%E8%AF%BB" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 01-前端源码研读</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-050ee716><section class="VPSidebarGroup collapsible" data-v-050ee716 data-v-81cf2620><div class="title" role="button" data-v-81cf2620><h2 class="title-text" data-v-81cf2620>📂 图解JavaScript</h2><div class="action" data-v-81cf2620><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-81cf2620><!--[--><!--[--><a class="VPLink link link" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/0-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 0-开始阅读</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/00-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E5%92%8CHoisting" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 00-事件循环和Hoisting</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/01-Scope%E5%92%8CJavaScript%E5%BC%95%E6%93%8E" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 01-Scope和JavaScript引擎</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/02-%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 02-原型继承</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/03-%E7%94%9F%E6%88%90%E5%99%A8%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 03-生成器和迭代器</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/04-Promises%E5%92%8CAsync&amp;Await" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 04-Promises和Async&Await</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-050ee716><section class="VPSidebarGroup collapsible" data-v-050ee716 data-v-81cf2620><div class="title" role="button" data-v-81cf2620><h2 class="title-text" data-v-81cf2620>📂 进击的V8</h2><div class="action" data-v-81cf2620><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-81cf2620><!--[--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/0-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 0-开始阅读</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/00-%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3V8" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 00-深入了解V8</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/01-%E6%B8%85%E6%99%B0%E6%98%93%E6%87%82%E7%9A%84%E7%8E%B0%E4%BB%A3%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 01-清晰易懂的现代编程语言内存管理</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/02-%E5%8F%AF%E8%A7%86%E5%8C%96%E8%AE%B2%E8%A7%A3V8%E5%BC%95%E6%93%8E%E4%B8%AD%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 02-可视化讲解V8引擎中内存管理</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/03-V8%20%E4%B9%8B%E6%97%85%EF%BC%9A%E7%BC%96%E8%AF%91%E5%99%A8%E5%85%A8%E6%99%AF" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 03-V8 之旅：编译器全景</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/04-V8%20%E4%B9%8B%E6%97%85%EF%BC%9A%E5%AF%B9%E8%B1%A1%E8%A1%A8%E7%A4%BA" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 04-V8 之旅：对象表示</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/05-V8%20%E4%B9%8B%E6%97%85%EF%BC%9A%E4%BC%98%E5%8C%96%E7%BC%96%E8%AF%91%E5%99%A8Crankshaft" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 05-V8 之旅：优化编译器Crankshaft</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/06-V8%20%E4%B9%8B%E6%97%85%EF%BC%9A%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 06-V8 之旅：垃圾回收器</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/07-JavaScript%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9AV8%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E4%BC%98%E5%8C%96%E6%8F%90%E6%95%88" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 07-JavaScript工作原理：V8编译器的优化提效</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/WEB/%E8%BF%9B%E5%87%BB%E7%9A%84V8/08-JavaScript%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A%E4%BC%98%E5%8C%96%E8%A7%A3%E6%9E%90%E6%95%88%E7%8E%87" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 08-JavaScript工作原理：优化解析效率</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-49e234f8 data-v-0411ff91><div class="VPDoc has-sidebar has-aside" data-v-0411ff91 data-v-84b3cd6c><div class="container" data-v-84b3cd6c><div class="aside" data-v-84b3cd6c><div class="aside-curtain" data-v-84b3cd6c></div><div class="aside-container" data-v-84b3cd6c><div class="aside-content" data-v-84b3cd6c><div class="VPDocAside" data-v-84b3cd6c data-v-c19db377><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-c19db377 data-v-4874626b><div class="content" data-v-4874626b><div class="outline-marker" data-v-4874626b></div><div class="outline-title" data-v-4874626b>🔗 内容纲要：</div><nav aria-labelledby="doc-outline-aria-label" data-v-4874626b><span class="visually-hidden" id="doc-outline-aria-label" data-v-4874626b> Table of Contents for current page </span><ul class="root" data-v-4874626b data-v-9502e04c><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-c19db377></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-84b3cd6c><div class="content-container" data-v-84b3cd6c><!--[--><!--]--><main class="main" data-v-84b3cd6c><div style="position:relative;" class="vp-doc _WEB_%E5%9B%BE%E8%A7%A3JavaScript_03-%E7%94%9F%E6%88%90%E5%99%A8%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8" data-v-84b3cd6c><div><h1 id="图解javascript之生成器和迭代器" tabindex="-1">图解 JavaScript 之生成器和迭代器 <a class="header-anchor" href="#图解javascript之生成器和迭代器" aria-hidden="true">#</a></h1><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-hidden="true">#</a></h2><nav class="table-of-contents"><ul><li><a href="#目录">目录</a></li><li><a href="#生成器">生成器</a></li><li><a href="#迭代器">迭代器</a></li><li><a href="#观察者函数">观察者函数</a></li><li><a href="#案例">案例</a></li></ul></nav><h2 id="生成器" tabindex="-1">生成器 <a class="header-anchor" href="#生成器" aria-hidden="true">#</a></h2><p>ES6 引入了一个很酷的东西，叫做 <strong>生成器（generator）函数</strong> 。每当我问人们有关生成器函数的问题时，得到的回复基本上都是：“我曾看到过一次，没搞明白，然后就再也没有看到过”，“哦，天哪，我读过很多有关生成器函数的博客文章，但依然还没有搞明白”，“我是搞明白了，但是为什么有人会用它啊？”，🤔也许那只是我一直在与自己进行的对话，因为那是我很长一段时间以来习惯的思考方式！但是生成器函数是真的很酷。</p><p>那么，什么是<strong>生成器函数</strong>（generator functions）呢？下面，我们先来看一个函数。👵🏼</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--SPQNaFkb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/2ta7m1vxju6j1dzg7t7c.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--SPQNaFkb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/2ta7m1vxju6j1dzg7t7c.png"></p><p>是的，这绝对没什么特别的！它只是一个普通函数，会输出值 4 次。下面我们来调用这个函数！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--NYzqeCCE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/unsiscmakhlgxl4dcji7.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--NYzqeCCE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/unsiscmakhlgxl4dcji7.gif"></p><p>“但是，为什么你要浪费我 5 秒钟的时间让我看看这个没劲的普通函数呢？”，这是一个很好的问题。普通函数遵循一种称为<strong>运行至完成</strong>（run-to-completion）的模型：当我们调用一个函数时，它将一直运行，直到完成为止（除非某处出错了）。我们不能随意在中间的某个位置<strong>暂停</strong>（pause）一个函数。</p><p>现在最酷的部分来了：生成器函数不遵循<strong>运行至完成</strong>模型！ 🤯这是否意味着我们可以在执行某个生成器函数时随机将其暂停呢？嗯，差不多吧！下面我们看看什么是生成器函数，以及如何使用它们。</p><p>我们通过在关键字 <code>function</code> 后加上一个星号 <code>*</code> ，来创建一个生成器函数。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--hqnT9Dtn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/7j9pxfpvmecip71ldjwg.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--hqnT9Dtn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/7j9pxfpvmecip71ldjwg.png"></p><p>但这不是我们要用生成器函数所要做的全部！与常规函数相比，生成器函数实际上以完全不同的方式工作：</p><ul><li>调用生成器函数会返回一个 <strong>生成器对象</strong>（generator object），这个对象是一个迭代器（iterator）。</li><li>我们可以在生成器函数中使用 <code>yield</code> 关键字来<strong>暂停</strong>执行。</li></ul><p>但这到底意味着什么？！</p><p>我们先看看第一条：调用生成器函数将返回一个 <strong>生成器对象</strong> 。当调用常规函数时，函数体将被执行，并最终返回一个值。但是，当调用生成器函数时，会返回<strong>生成器对象</strong>！下面我们来看看输生成器函数的返回值时是什么样子。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--aXTBozny--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/lyuivuuepy1hzpok8rc5.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--aXTBozny--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/lyuivuuepy1hzpok8rc5.gif"></p><p>现在，我可以听到你内心在尖叫（甚至发出声了🙃），因为这看起来有点让人难以承受。但是别担心，我们实际上不必用你在这里看到的任何属性。那么，生成器对象有什么好处呢？</p><p>首先，我们需要退后一小步，并回答常规函数和生成器函数之间的第二个区别：<strong>我们可以在生成器函数中用 <code>yield</code> 关键字来 “暂停” 函数的执行</strong>。</p><p>使用生成器函数，我们可以编写如下代码（ <code>genFunc</code> 是 <code>generatorFunction</code> 的缩写）：</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--DMCbuRT2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/1qo0upq0meh6gj2gs08o.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--DMCbuRT2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/1qo0upq0meh6gj2gs08o.png"></p><p>这里的 <code>yield</code> 关键字是做什么的呢？当引擎遇到 <code>yield</code> 关键字的时候，生成器的执行将被 “暂停” 。而且最棒的是，下次运行该函数时，它会记住它先前暂停的位置，然后从那里开始运行！😃 那么，下面基本上就是运行该函数时要发生的事情（不要担心，稍后会对此进行动画演示）：</p><ol><li>第一次运行时，它在第一行 “暂停”，并生成字符串值 <code>&#39;✨&#39;</code> 。</li><li>第二次运行时，它在上一个 <code>yield</code> 关键字的行开始，一直向下运行，直到遇到第二个 <code>yield</code> 关键字，并生成值 <code>&#39;💕&#39;</code> 。</li><li>第三次运行时，它在上一个 <code>yield</code> 关键字的行开始，一直向下运行，直到遇到 <code>return</code> 关键字，然后返回值 <code>&#39;Done!&#39;</code> 。</li></ol><p>但是... 我们在前面看到的是：如果调用生成器函数，返回的是一个生成器对象，那么如何调用这个生成器函数呢？🤔 这就是生成器对象发挥作用的地方！</p><p>生成器对象（在原型链上）包含一个 <code>next()</code> 方法。我们就是用这个方法来迭代生成器对象。但是，为了记住它之前在生成一个值后中断的地方的状态，我们需要将生成器对象赋值给一个变量。我会把这个变量简称为 <code>genObj</code> （ <code>generatorObject</code> 的简称）。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--23CZeKcI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/y54clkzwbc9oemzgybh5.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--23CZeKcI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/y54clkzwbc9oemzgybh5.gif"></p><p>下面我们看看在生成器对象 <code>genObj</code> 上调用 <code>next()</code> 方法时会发生什么！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--23CZeKcI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/y54clkzwbc9oemzgybh5.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--23CZeKcI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/y54clkzwbc9oemzgybh5.gif"></p><p>生成器会一直运行，直到遇到第一个 <code>yield</code> 关键字，而这里这个关键字恰好在第一行！它 ** 生成（yield）** 了一个包含 <code>value</code> 属性和 <code>done</code> 属性的对象 <code>{ value: ... , done: ... }</code> ：</p><ul><li><code>value</code> 属性等于我们生成（yielded）的值。</li><li><code>done</code> 属性是一个布尔值，仅在生成器函数<strong>返回</strong>（returned）一个值（不是生成！😊）后，才设置为 <code>true</code> 。</li></ul><p>我们停止了遍历生成器，这让函数看起来像是暂停了一样！这多酷啊。下面我们再次调用 <code>next()</code> 方法！😃</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--9l_dv85d--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/e7hz87c6xtd31qjx19va.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--9l_dv85d--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/e7hz87c6xtd31qjx19va.gif"></p><p>首先，输出字符串 <code>First log!</code> 到控制台中。这条语句既没有 <code>yield</code> 也没有 <code>return</code> 关键字，所以引擎会继续往下执行！然后，遇到了一个 <code>yield</code> 关键字，其值为 <code>&#39;💕&#39;</code> 。这样就生成了一个对象，其 <code>value</code> 属性的值是 <code>&#39;💕&#39;</code> ， <code>done</code> 属性的值为 <code>false</code> ，因为我们还没有从生成器中返回。</p><p>快结束了！下面我们最后一次调用 <code>next()</code> 。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--P1hGzgIq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/33epxsx8znmhm0qojsuu.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--P1hGzgIq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/33epxsx8znmhm0qojsuu.gif"></p><p>字符串 <code>Second log!</code> 被输出到控制台。然后，引擎遇到一个返回值为 <code>&#39;Done!&#39;</code> 的 <code>return</code> 关键字。引擎返回一个对象，该对象的 <code>value</code> 属性值为 <code>&#39;Done!&#39;</code> 。这次我们是实际返回了，所以 <code>done</code> 属性值被设置为 <code>true</code> ！</p><p><code>done</code> 属性实际上非常重要。<strong>我们只能一次迭代一个生成器对象</strong>。什么？那么当我们再次调用 <code>next()</code> 方法时会发生什么呢！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--Xe9VmNyb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/wooo83by4eh12akmg5wb.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--Xe9VmNyb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/wooo83by4eh12akmg5wb.gif"></p><p>它只是永远返回 <code>undefined</code> 。如果要再次迭代，必须创建一个新的生成器对象！</p><h2 id="迭代器" tabindex="-1">迭代器 <a class="header-anchor" href="#迭代器" aria-hidden="true">#</a></h2><p>如我们所见，生成器函数返回一个迭代器（iterator）（生成器对象）。但是.. 等等，<strong>迭代器</strong> ？这是否意味着我们可以在返回的对象上用 <code>for...of</code> 循环以及扩展运算符（spread operator）呢？是的！🤩</p><p>下面我们试着用 <code>[...]</code> 语法，将生成的值扩展到一个数组中。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--rZrIexdt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/xgk99j592vbx3qirw5or.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--rZrIexdt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/xgk99j592vbx3qirw5or.gif"></p><p>或者也许可以用 <code>for...of</code> 循环？！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--RAEn2yjk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/98k242jz3bqorkjhukwl.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--RAEn2yjk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/98k242jz3bqorkjhukwl.gif"></p><p>哎呀，这么多可能性！</p><p>但是是什么让迭代器成为迭代器呢？我们之所以可以在数组、字符串、map 和 set 上用 <code>for...of</code> 循环和扩展语法，实际上是因为它们实现了<strong>迭代器协议</strong>（iterator protocol）： <code>[Symbol.iterator]</code> 。假设我们有以下值（带有很具描述性的名称💁🏼‍♀️）：</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--llTXHrg7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/hs2sf1oj537c56yaej1h.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--llTXHrg7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/hs2sf1oj537c56yaej1h.png"></p><p><code>array</code> 、 <code>string</code> 和 <code>generatorObject</code> 都是迭代器！下面我们来看看它们的 <code>[Symbol.iterator]</code> 属性的值。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--WWSsnUX7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/a7inxsrvrp8ykg3xw6zu.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--WWSsnUX7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/a7inxsrvrp8ykg3xw6zu.gif"></p><p>但是，不可迭代的值上的 <code>[Symbol.iterator]</code> 的值会是什么呢？</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--1IBldFRj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/tpuzuy58g8m7grxvqw8x.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--1IBldFRj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/tpuzuy58g8m7grxvqw8x.gif"></p><p>是的，不可迭代的值就没这个属性。那么.. 我们能不能在不可迭代的值上手动添加一个 <code>[Symbol.iterator]</code> 属性，让不可迭代的值变成可迭代的呢？是的，我们可以！😃</p><p><code>[Symbol.iterator]</code> 必须返回一个迭代器，该迭代器包含一个 <code>next()</code> 方法，该方法返回一个对象，这个对象跟我们之前看到过的一样： <code>{ value: &#39;...&#39;, done: false/true }</code> 。</p><p>为简单起见，我们可以简单地将 <code>[Symbol.iterator]</code> 的值设置为一个生成器函数，因为这样做默认就返回一个迭代器。下面我们让 <code>object</code> 变成可迭代的，并且让生成的值是这个完整的对象：</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--S-0xsWy9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/oysyy7v71o2q9q9mrcsx.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--S-0xsWy9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/oysyy7v71o2q9q9mrcsx.png"></p><p>现在看看我们在我们的 <code>object</code> 对象上使用扩展语法或者 <code>for...of</code> 循环会发生什么！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--y4uwsswR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/pw2qq1tkfbp8zccuecac.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--y4uwsswR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/pw2qq1tkfbp8zccuecac.gif"></p><p>或者也许我们只想获取对象的键。哦，那很容易，我们只需要生成 <code>Object.keys(this)</code> 而不是 <code>this</code> ！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--JKxhr5ZJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ankit4dn67unnwzfkv9y.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--JKxhr5ZJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ankit4dn67unnwzfkv9y.png"></p><p>我们试一下。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--OOE8nOyw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/75kf40lqcqrudzqgkeb7.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--OOE8nOyw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/75kf40lqcqrudzqgkeb7.gif"></p><p>搞定！ <code>Object.keys(this)</code> 是个数组，所以生成的值也是一个数组。然后我们把这个生成的数组扩展到另一个数组中，结果就得到一个嵌套的数组。我们并不想要这个，只是想生成每个单独的键！</p><p>好消息！🥳 我们可以用 <code>yield*</code> 关键字在生成器中的迭代器中生成单个值，所以 <code>yield</code> 带了一个星号！假设我们有一个生成器函数首先生成一个鳄梨（avocado），然后我们想分别生成另一个迭代器的值（在本例中是一个数组）。我们可以用 <code>yield*</code> 来做到这一点。然后我们<strong>委托</strong>给另一个生成器！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--8ZUO_nmt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/jtyn5s5o3vdhjkbwwyb0.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--8ZUO_nmt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/jtyn5s5o3vdhjkbwwyb0.gif"></p><p>在继续迭代 <code>genObj</code> 迭代器之前，被委托的生成器的每个值都生成了。</p><p>这正是为了单独得到所有对象的键所需要做的！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--pDQ9YJem--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/btr4ytbb04c44qfs96v2.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--pDQ9YJem--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/btr4ytbb04c44qfs96v2.gif"></p><h2 id="观察者函数" tabindex="-1">观察者函数 <a class="header-anchor" href="#观察者函数" aria-hidden="true">#</a></h2><p>生成器函数的另一种用法，是我们可以（在某种程度上）将它们用作为观察者函数（observer functions）。生成器可以等待传入的数据，并且只有当该数据被传递过来时，才会处理它。比如：</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--tfcD--K5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/fts36exs5chxacikjeo3.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--tfcD--K5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/fts36exs5chxacikjeo3.png"></p><p>这里最大的区别是我们不是只有前一个例子中所看到的 <code>yield [value]</code> ，而是将其赋值给一个称为 <code>second</code> 的值，并生成值字符串 <code>First!</code> 。这是第一次调用 <code>next()</code> 方法时会生成的值。</p><p>下面我们来看看第一次在可迭代的值上调用 <code>next()</code> 方法时会发生什么。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--q1ylTmRk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ob5a4yi79it9q2ben137.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--q1ylTmRk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ob5a4yi79it9q2ben137.gif"></p><p>首先遇到第一行上的 <code>yield</code> ，并生成值 <code>First!</code> 。那么，变量 <code>second</code> 的值是什么呢？</p><p>变量 <code>second</code> 的值实际上是<strong>下次我们调用 <code>next()</code> 方法时</strong>传递给该方法的值！这一次，我们给 <code>next()</code> 方法传一个字符串 <code>&#39;I like JavaScript&#39;</code> 。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--g9vc9eyY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/l1840pp2k9h9bgpt1geo.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--g9vc9eyY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/l1840pp2k9h9bgpt1geo.gif"></p><p>重要的是，在这里看到， <code>next()</code> 方法的第一次调用没有记录任何输入。我们<strong>只是通过第一次调用来启动观察器</strong>。生成器在继续之前，等待我们的输入，并可能处理我们传递给 <code>next()</code> 方法的值。</p><p>那么，为什么我们会想用生成器函数呢？</p><p>生成器的最大优点之一就是它们是<strong>懒求值</strong>（lazily evaluated）的。也就是说，在调用 <code>next()</code> 方法后返回的值仅在我们明确要求后才计算！普通函数没有这种功能：所有值都为我们生成了，以防将来某个时间需要用到它。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--HDINzSjh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/7b24mkp7io3gmnn8pzwa.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--HDINzSjh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/7b24mkp7io3gmnn8pzwa.gif"></p><h2 id="案例" tabindex="-1">案例 <a class="header-anchor" href="#案例" aria-hidden="true">#</a></h2><p>还有其它几个案例，但是我通常喜欢这样做，以便在迭代大型数据集时能更好地控制！</p><p>想像一下，我们有一个读书俱乐部清单！📚为简单起见，每个读书俱乐部只有一个成员。一名会员目前正在读几本书，这些书以数组 <code>books</code> 来表示！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--xs97vroJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/8opapd1iddlgj1ljixje.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--xs97vroJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/8opapd1iddlgj1ljixje.png"></p><p>现在，我们在找一本 id 为 <code>ey812</code> 的书。为找到这本书，我们可能只用一个嵌套的 <code>for</code> 循环或者一个 <code>forEach</code> 辅助器，但是这意味着我们得遍历所有数据，即使已经找到了要找的俱乐部会员之后也会继续遍历下去。</p><p>关于生成器，很棒的事情是，除非我们告诉它去运行，否则它不会继续运行。也就是说，我们可以评估每个返回的条目，如果是我们正在找的条目，就不需要调用 <code>next()</code> 了。下面我们看看是啥样子。</p><p>首先，创建一个生成器，遍历每个会员的 <code>books</code> 数组。我们把会员的 <code>books</code> 数组传给该函数，遍历该数组，并生成每本书！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--VIKQMt8N--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vokf28crwuvbmksd57m5.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--VIKQMt8N--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vokf28crwuvbmksd57m5.png"></p><p>完美！现在我们必须创建一个遍历俱乐部会员数组（ <code>members</code> ）的生成器。我们实际上并不关心俱乐部会员本身，只是需要遍历他们的书。在 <code>iterateMembers</code> 生成器中，我们委托 <code>iterateBooks</code> 迭代器生成成员们的书！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--wOo9Qoct--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/fy8mxxjj0uvs6rarm6mi.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--wOo9Qoct--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/fy8mxxjj0uvs6rarm6mi.png"></p><p>差不多了！最后一步是遍历读书俱乐部数组（ <code>bookclubs</code> ）。跟上个例子一样，我们实际上并不关心读书俱乐部本身，只关心俱乐部会员（特别是会员们的书）。下面我 们委托给 <code>iterateMembers</code> 迭代器，并把 <code>clubMembers</code> 数组传给它。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--cPaacK9G--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/x1lor0omqw9t5k2kq4iv.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--cPaacK9G--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/x1lor0omqw9t5k2kq4iv.png"></p><p>为遍历所有这些东西，我们需要通过将 <code>bookClubs</code> 数组传递给 <code>iterateBookClubs</code> 生成器，让生成器对象可迭代。我现在暂时将其称为生成器对象 <code>it</code> 。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--fz9lH3an--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/omg23omwi8a1d7nn1it3.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--fz9lH3an--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/omg23omwi8a1d7nn1it3.png"></p><p>下面我们调用 <code>next()</code> 方法，直到得到 id 为 <code>ey812</code> 的书。</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--uenUfDOJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/72ghm4ev6el3no9esk1l.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--uenUfDOJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/72ghm4ev6el3no9esk1l.gif"></p><p>不错！现在为了得到要找的书，我们就不需要遍历所有数据，而是只按需查找数据！当然，每次都要手动调用 <code>next()</code> 方法效率不是很高，所以我们来做一个函数吧！</p><p>下面将我们要找的书的 <code>id</code> 传给该函数。如果 <code>value.id</code> 是我们要找的 id，那么就只返回整个 <code>value</code> （book 对象）。否则，如果不是要找的 <code>id</code> ，就再次调用 <code>next()</code> ！</p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--_XcgekW2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/hxyeemfr3q8pqqotk51j.png" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--_XcgekW2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/hxyeemfr3q8pqqotk51j.png"></p><p><img data-zooming src="https://res.cloudinary.com/practicaldev/image/fetch/s--oqOXhNFY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/x1zh0ygt5yfq5vb2f5at.gif" alt="image" data-src="https://res.cloudinary.com/practicaldev/image/fetch/s--oqOXhNFY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/x1zh0ygt5yfq5vb2f5at.gif"></p><p>当然，这只是一个很小很小的数据集。不过，试想一下，假如我们有成千上万的数据，或者可能是一个传入的流，为了只找到一个值，我们需要解析。通常，我们必须等待整个数据集准备就绪，才能开始解析。而用生成器函数，我们可以<strong>只需要小部分数据，检查该数据</strong>，然后只在我们调用 <code>next()</code> 方法时候才会生成值！</p><p>如果你仍然处于懵逼状态，不要担心。虽然生成器函数确实相当难以理解，但是只要亲自用过它们，并且有一些可靠的案例，那就没那么难了。</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-84b3cd6c data-v-2fc9c0f9><div class="edit-info" data-v-2fc9c0f9><!----><div class="last-updated" data-v-2fc9c0f9><p class="VPLastUpdated" data-v-2fc9c0f9 data-v-3f5ecebf>最近更新: <time datatime="2022-11-08T05:39:32.000Z" data-v-3f5ecebf></time></p></div></div><div class="prev-next" data-v-2fc9c0f9><div class="pager" data-v-2fc9c0f9><a class="pager-link prev" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/02-%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF" data-v-2fc9c0f9><span class="desc" data-v-2fc9c0f9>Previous page</span><span class="title" data-v-2fc9c0f9>📃 02-原型继承</span></a></div><div class="has-prev pager" data-v-2fc9c0f9><a class="pager-link next" href="/WEB/%E5%9B%BE%E8%A7%A3JavaScript/04-Promises%E5%92%8CAsync&amp;Await" data-v-2fc9c0f9><span class="desc" data-v-2fc9c0f9>Next page</span><span class="title" data-v-2fc9c0f9>📃 04-Promises和Async&amp;Await</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-49e234f8 data-v-9b299ed8><div class="container" data-v-9b299ed8><p class="message" data-v-9b299ed8>Released under the MIT License.</p><p class="copyright" data-v-9b299ed8>Copyright © 2022-present, made by Jonsam NG with 💖</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"cs_0-开始上手.md\":\"0fda6203\",\"cs_01-vim操作表.md\":\"0ebe6375\",\"cs_02-emoji for markdown.md\":\"c32d521d\",\"cs_操作系统_0-操作系统-开始阅读.md\":\"d2d060bd\",\"cs_操作系统_00-操作系统原理之概述.md\":\"5db1ad67\",\"cs_操作系统_01-操作系统原理之进程与线程.md\":\"30b1af31\",\"cs_操作系统_02-操作系统原理之cpu调度.md\":\"935bf61e\",\"cs_操作系统_03-操作系统原理之调度算法.md\":\"38359675\",\"cs_操作系统_04-操作系统原理之进程同步.md\":\"a2076249\",\"cs_操作系统_05-操作系统原理之死锁.md\":\"04935241\",\"cs_操作系统_06-操作系统原理之内存管理.md\":\"532aa136\",\"cs_操作系统_07-操作系统原理之文件系统.md\":\"5eda823b\",\"cs_操作系统_08-操作系统原理之磁盘调度.md\":\"7c367389\",\"cs_网络原理_0-网络原理-开始阅读.md\":\"66e6802b\",\"cs_网络原理_00-计算机网络原理之概述.md\":\"f259131c\",\"cs_网络原理_01-计算机网络原理之物理层.md\":\"5fc74a7c\",\"cs_网络原理_02-计算机网络原理之数据链路层.md\":\"e24a4b9c\",\"cs_网络原理_03-计算机网络原理之网络层.md\":\"9475111f\",\"cs_网络原理_04-计算机网络原理之传输层.md\":\"4827c809\",\"cs_网络原理_05-计算机网络原理之应用层.md\":\"66051b78\",\"dsa_0-开始上手.md\":\"b02ab8dd\",\"dsa_数据结构_0-开始阅读.md\":\"d312d43f\",\"dsa_数据结构_00-队列.md\":\"95d53b84\",\"interview_0-开始上手.md\":\"b29b288f\",\"web_0-开始上手.md\":\"541962d0\",\"web_01-前端源码研读.md\":\"d73b5c45\",\"web_图解javascript_0-开始阅读.md\":\"da0b7813\",\"web_图解javascript_00-事件循环和hoisting.md\":\"7427babb\",\"web_图解javascript_01-scope和javascript引擎.md\":\"1b8f2721\",\"web_图解javascript_02-原型继承.md\":\"4db1b733\",\"web_图解javascript_03-生成器和迭代器.md\":\"01cf41f0\",\"web_图解javascript_04-promises和async_await.md\":\"32cb295e\",\"web_进击的v8_0-开始阅读.md\":\"129ca351\",\"web_进击的v8_00-深入了解v8.md\":\"3121e71b\",\"web_进击的v8_01-清晰易懂的现代编程语言内存管理.md\":\"5c942c59\",\"web_进击的v8_02-可视化讲解v8引擎中内存管理.md\":\"be913274\",\"web_进击的v8_03-v8 之旅：编译器全景.md\":\"dc27dd44\",\"web_进击的v8_04-v8 之旅：对象表示.md\":\"b5567896\",\"web_进击的v8_05-v8 之旅：优化编译器crankshaft.md\":\"7dde05ba\",\"web_进击的v8_06-v8 之旅：垃圾回收器.md\":\"9b71f2b6\",\"web_进击的v8_07-javascript工作原理：v8编译器的优化提效.md\":\"ce19d884\",\"web_进击的v8_08-javascript工作原理：优化解析效率.md\":\"0e81472a\",\"index.md\":\"b1c00989\",\"关于.md\":\"6935c451\",\"示例.md\":\"47708d98\"}")</script>
    <script type="module" async src="/assets/app.5171f31b.js"></script>
    
  </body>
</html>