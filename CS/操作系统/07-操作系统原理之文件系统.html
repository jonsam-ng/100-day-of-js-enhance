<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>操作系统原理之文件系统</title>
    <meta name="description" content="100 days to enhance your skills on JavaScript.">
    <link rel="stylesheet" href="/assets/style.30c508ab.css">
    <link rel="modulepreload" href="/assets/chunks/virtual_search-data.594c1554.js">
    <link rel="modulepreload" href="/assets/chunks/vue3-pdf-embed.f2796ab3.js">
    <link rel="modulepreload" href="/assets/chunks/vue3-video-player.common.d5fdbba0.js">
    <link rel="modulepreload" href="/assets/chunks/vue-codemirror.esm.6218ccd3.js">
    <link rel="modulepreload" href="/assets/chunks/index.cfa69757.js">
    <link rel="modulepreload" href="/assets/chunks/gitalk.6b93cd98.js">
    <link rel="modulepreload" href="/assets/app.13ad45ff.js">
    <link rel="modulepreload" href="/assets/CS_操作系统_07-操作系统原理之文件系统.md.d88b2ffe.lean.js">
    
    <link rel="shortcut icon" href="/logo/favicon.ico" sizes="any">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#579871">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/logo/apple-touch-icon.png">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-49e234f8><!--[--><!--]--><!--[--><span tabindex="-1" data-v-1dea7684></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-1dea7684> Skip to content </a><!--]--><!----><header class="VPNav" data-v-49e234f8 data-v-a7a7ad35><div class="VPNavBar has-sidebar" data-v-a7a7ad35 data-v-685fc3b8><div class="container" data-v-685fc3b8><div class="VPNavBarTitle has-sidebar" data-v-685fc3b8 data-v-ef893abd><a class="title" href="/" data-v-ef893abd><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo/favicon-16x16.png" alt data-v-4dd7211c><!--]--><!--[-->100 days of JavaScript<!--]--><!--[--><!--]--></a></div><div class="content" data-v-685fc3b8><!--[--><!--]--><div class="VPNavBarSearch search" data-v-685fc3b8><!--teleport start--><!--teleport end--><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-685fc3b8 data-v-367bd816><span id="main-nav-aria-label" class="visually-hidden" data-v-367bd816>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 📂 CS <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/0-%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 0-开始上手<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/01-VIM%E6%93%8D%E4%BD%9C%E8%A1%A8" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 01-VIM操作表<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/0-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📂 操作系统<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/0-%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📂 网络原理<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 📂 DSA <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/DSA/%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 开始上手<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/DSA/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/0-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-54e7c437 data-v-db2fda6a><!--[-->📂 数据结构<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 📂 WEB <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/WEB/%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->📃 开始上手<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> 🗳️ More <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/%E7%A4%BA%E4%BE%8B" data-v-54e7c437 data-v-db2fda6a><!--[-->示例<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="/%E5%85%B3%E4%BA%8E" data-v-54e7c437 data-v-db2fda6a><!--[-->关于<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-367bd816 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-5762d21d><span class="text" data-v-5762d21d><!----> ⛓️ Links <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-5762d21d><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><div class="items" data-v-010bd3db><!--[--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://source.jonsam.site" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->源码阅读<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://dsa.jonsam.site" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->Fancy-DSA<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://ox.jonsam.site" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->氧气空间<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="http://docs.jonsam.site/project-5/" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->深入学习设计模式<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-010bd3db data-v-54e7c437><a class="VPLink link" href="https://source.jonsam.site/nav" target="_blank" rel="noreferrer" data-v-54e7c437 data-v-db2fda6a><!--[-->导航<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-db2fda6a><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="https://www.jonsam.site" target="_blank" rel="noreferrer" data-v-367bd816 data-v-3aac26cc data-v-db2fda6a><!--[-->📮 Blog<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-685fc3b8 data-v-25c795e0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-25c795e0 data-v-6f730ecd data-v-a14320ce><span class="check" data-v-a14320ce><span class="icon" data-v-a14320ce><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6f730ecd><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6f730ecd><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-685fc3b8 data-v-1272952b data-v-ef7ca401><!--[--><a class="VPSocialLink" href="https://github.com/jonsam-ng/100-day-of-js-enhance" target="_blank" rel="noopener" data-v-ef7ca401 data-v-da94e4e2><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-685fc3b8 data-v-fb94d383 data-v-5762d21d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-5762d21d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-5762d21d><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-5762d21d><div class="VPMenu" data-v-5762d21d data-v-010bd3db><!----><!--[--><!--[--><!----><div class="group" data-v-fb94d383><div class="item appearance" data-v-fb94d383><p class="label" data-v-fb94d383>Appearance</p><div class="appearance-action" data-v-fb94d383><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-fb94d383 data-v-6f730ecd data-v-a14320ce><span class="check" data-v-a14320ce><span class="icon" data-v-a14320ce><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6f730ecd><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6f730ecd><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-fb94d383><div class="item social-links" data-v-fb94d383><div class="VPSocialLinks social-links-list" data-v-fb94d383 data-v-ef7ca401><!--[--><a class="VPSocialLink" href="https://github.com/jonsam-ng/100-day-of-js-enhance" target="_blank" rel="noopener" data-v-ef7ca401 data-v-da94e4e2><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-685fc3b8 data-v-0e5cd429><span class="container" data-v-0e5cd429><span class="top" data-v-0e5cd429></span><span class="middle" data-v-0e5cd429></span><span class="bottom" data-v-0e5cd429></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-49e234f8 data-v-b567db91><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b567db91><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b567db91><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b567db91>Menu</span></button><a class="top-link" href="#" data-v-b567db91> Return to top </a></div><aside class="VPSidebar" data-v-49e234f8 data-v-050ee716><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-050ee716><span class="visually-hidden" id="sidebar-aria-label" data-v-050ee716> Sidebar Navigation </span><!--[--><div class="group" data-v-050ee716><section class="VPSidebarGroup collapsible" data-v-050ee716 data-v-81cf2620><div class="title" role="button" data-v-81cf2620><h2 class="title-text" data-v-81cf2620>📂 CS</h2><div class="action" data-v-81cf2620><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-81cf2620><!--[--><!--[--><a class="VPLink link link" href="/CS/0-%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 0-开始上手</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/01-VIM%E6%93%8D%E4%BD%9C%E8%A1%A8" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 01-VIM操作表</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-050ee716><section class="VPSidebarGroup collapsible" data-v-050ee716 data-v-81cf2620><div class="title" role="button" data-v-81cf2620><h2 class="title-text" data-v-81cf2620>📂 操作系统</h2><div class="action" data-v-81cf2620><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-81cf2620><!--[--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/0-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 0-操作系统-开始阅读</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/00-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E6%A6%82%E8%BF%B0" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 00-操作系统原理之概述</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 01-操作系统原理之进程与线程</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/02-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8BCPU%E8%B0%83%E5%BA%A6" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 02-操作系统原理之CPU调度</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/03-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 03-操作系统原理之调度算法</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/04-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 04-操作系统原理之进程同步</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/05-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E6%AD%BB%E9%94%81" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 05-操作系统原理之死锁</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/06-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 06-操作系统原理之内存管理</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/07-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 07-操作系统原理之文件系统</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/08-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 08-操作系统原理之磁盘调度</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-050ee716><section class="VPSidebarGroup collapsible" data-v-050ee716 data-v-81cf2620><div class="title" role="button" data-v-81cf2620><h2 class="title-text" data-v-81cf2620>📂 网络原理</h2><div class="action" data-v-81cf2620><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-81cf2620><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-81cf2620><!--[--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/0-%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 0-网络原理-开始阅读</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/00-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E6%A6%82%E8%BF%B0" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 00-计算机网络原理之概述</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/01-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E7%89%A9%E7%90%86%E5%B1%82" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 01-计算机网络原理之物理层</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/02-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 02-计算机网络原理之数据链路层</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/03-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E7%BD%91%E7%BB%9C%E5%B1%82" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 03-计算机网络原理之网络层</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/04-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E4%BC%A0%E8%BE%93%E5%B1%82" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 04-计算机网络原理之传输层</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/05-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E5%BA%94%E7%94%A8%E5%B1%82" style="padding-left:0px;" data-v-131d8ceb data-v-db2fda6a><!--[--><span class="link-text" data-v-131d8ceb>📃 05-计算机网络原理之应用层</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-49e234f8 data-v-0411ff91><div class="VPDoc has-sidebar has-aside" data-v-0411ff91 data-v-84b3cd6c><div class="container" data-v-84b3cd6c><div class="aside" data-v-84b3cd6c><div class="aside-curtain" data-v-84b3cd6c></div><div class="aside-container" data-v-84b3cd6c><div class="aside-content" data-v-84b3cd6c><div class="VPDocAside" data-v-84b3cd6c data-v-c19db377><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-c19db377 data-v-4874626b><div class="content" data-v-4874626b><div class="outline-marker" data-v-4874626b></div><div class="outline-title" data-v-4874626b>🔗 内容纲要：</div><nav aria-labelledby="doc-outline-aria-label" data-v-4874626b><span class="visually-hidden" id="doc-outline-aria-label" data-v-4874626b> Table of Contents for current page </span><ul class="root" data-v-4874626b data-v-9502e04c><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-c19db377></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-84b3cd6c><div class="content-container" data-v-84b3cd6c><!--[--><!--]--><main class="main" data-v-84b3cd6c><div style="position:relative;" class="vp-doc _CS_%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F_07-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F" data-v-84b3cd6c><div><h1 id="操作系统原理之文件系统" tabindex="-1">操作系统原理之文件系统 <a class="header-anchor" href="#操作系统原理之文件系统" aria-hidden="true">#</a></h1><div class="badge-group" data-v-4ecad2c5><span class="group-tag" data-v-4ecad2c5>标签：</span><!--[--><span class="badge tip" style="vertical-align:middle;" data-v-4ecad2c5 data-v-dd429f7e>操作系统原理</span><!--]--></div><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-hidden="true">#</a></h2><nav class="table-of-contents"><ul><li><a href="#目录">目录</a></li><li><a href="#文件系统简介">文件系统简介</a><ul><li><a href="#文件">文件</a></li><li><a href="#文件目录">文件目录</a></li></ul></li><li><a href="#文件分配方法">文件分配方法</a><ul><li><a href="#连续分配（continuous-allocation）">连续分配（Continuous Allocation）</a></li><li><a href="#链接分配（linked-allocation）">链接分配（Linked Allocation）</a></li><li><a href="#索引式分配（indexed-allocation）">索引式分配（Indexed Allocation）</a></li></ul></li><li><a href="#操作系统中的目录结构">操作系统中的目录结构</a><ul><li><a href="#单层目录">单层目录</a></li><li><a href="#双层目录">双层目录</a></li><li><a href="#树结构目录">树结构目录</a></li><li><a href="#无环图目录（acyclic-graph-directory）">无环图目录（Acyclic graph directory）</a></li><li><a href="#通用图目录（general-graph-directory）">通用图目录（General graph directory）</a></li></ul></li><li><a href="#操作系统中的文件分配方法">操作系统中的文件分配方法</a><ul><li><a href="#连续分配">连续分配</a></li><li><a href="#链接分配">链接分配</a></li><li><a href="#索引分配">索引分配</a></li></ul></li><li><a href="#空闲空间管理">空闲空间管理</a><ul><li><a href="#位图或位向量法（bitmap-or-bit-vector）">位图或位向量法（Bitmap or Bit vector）</a></li><li><a href="#链表法（linked-list）">链表法（Linked List）</a></li><li><a href="#分组法（grouping）">分组法（Grouping）</a></li><li><a href="#计数法（counting）">计数法（Counting）</a></li></ul></li></ul></nav><h2 id="文件系统简介" tabindex="-1">文件系统简介 <a class="header-anchor" href="#文件系统简介" aria-hidden="true">#</a></h2><h3 id="文件" tabindex="-1">文件 <a class="header-anchor" href="#文件" aria-hidden="true">#</a></h3><p>文件（file）是记录在二级存储（secondary storage）上的相关信息的集合（collection）。或者说文件是逻辑上相关实体（logically related entities）的集合。从用户的角度来看，一个文件是逻辑二级存储的最小分配量（smallest allotment）。</p><p>文件的名称分为两部分，如下图所示：</p><ul><li>名称</li><li>扩展名（extension），用英文句号 <code>.</code> 隔开。</li></ul><p>文件属性和它的操作：</p><table><thead><tr><th>Attributes</th><th>Types</th><th>Operations</th></tr></thead><tbody><tr><td>Name</td><td>Doc</td><td>Create</td></tr><tr><td>Type</td><td>Exe</td><td>Open</td></tr><tr><td>Size</td><td>Jpg</td><td>Read</td></tr><tr><td>Creation Data</td><td>Xis</td><td>Write</td></tr><tr><td>Author</td><td>C</td><td>Append</td></tr><tr><td>Last Modified</td><td>Java</td><td>Truncate</td></tr><tr><td>protection</td><td>class</td><td>Delete</td></tr><tr><td></td><td>Close</td><td></td></tr></tbody></table><table><thead><tr><th>文件类型</th><th>常见扩展名</th><th>功能</th></tr></thead><tbody><tr><td>Executable</td><td>exe, com, bin</td><td>读取并运行机器语言程序</td></tr><tr><td>Object</td><td>obj, o</td><td>编译过，不链接机器语言</td></tr><tr><td>Source Code</td><td>C, java, pas, asm, a</td><td>各种语言的源代码</td></tr><tr><td>Batch</td><td>bat, sh</td><td>对命令解释器的命令</td></tr><tr><td>Text</td><td>txt, doc</td><td>文本数据、文档</td></tr><tr><td>Word Processor</td><td>wp, tex, rrf, doc</td><td>各种文字处理器格式</td></tr><tr><td>Archive</td><td>arc, zip, tar</td><td>相关文件被打包为一个压缩文件</td></tr><tr><td>Multimedia</td><td>mpeg, mov, rm</td><td>用于包含音频 / 视频信息</td></tr><tr><td>Markup</td><td>xml, html, tex</td><td>它是文本数据和文档</td></tr><tr><td>Library</td><td>lib, a ,so, dll</td><td>它包含了供程序员使用的程序库</td></tr><tr><td>Print or View</td><td>gif, pdf, jpg</td><td>它是一种用于打印或查看 ASCII 或二进制文件的格式</td></tr></tbody></table><h3 id="文件目录" tabindex="-1">文件目录 <a class="header-anchor" href="#文件目录" aria-hidden="true">#</a></h3><p>文件的集合就是一个文件目录（file directory）。该目录包含有关文件的信息，包括属性（attributes）、位置（location）和所有权（ownership）。这些信息中的大部分，特别是与存储有关的信息，由操作系统管理。目录本身就是一个文件，可由各种文件管理程序（file management routines）访问。</p><p>设备目录中包含的信息有：</p><ul><li>名称（Name）</li><li>类型（Type）</li><li>地址（Address）</li><li>当前长度（Current length）</li><li>最大长度（Maximum length）</li><li>最后访问日期（Date last accessed）</li><li>最后更新日期（Date last updated）</li><li>业主身份（Owner id）</li><li>保护信息（Protection information）</li></ul><p>对目录进行的操作是：</p><ul><li>搜索文件（Search for a file）</li><li>创建文件（Create a file）</li><li>删除文件（Delete a file）</li><li>列出目录（List a directory）</li><li>重命名文件（Rename a file）</li><li>遍历文件系统（Traverse the file system）</li></ul><p>维护目录的优势在于：</p><ul><li>效率。可以更快找到文件。</li><li>命名。它为用户提供了方便，因为两个用户可以为不同的文件使用相同的名称，也可以为同一个文件使用不同的名称。</li><li>分组。文件的逻辑分组可以通过属性来完成，例如，所有的 java 程序，所有的游戏等。</li></ul><p>单层目录（SINGLE-LEVEL DIRECTORY）：为所有用户维护的一个单一的目录。</p><ul><li>命名问题（Naming problem）：用户不能对两个文件使用相同的名字。</li><li>分组问题（Grouping problem）：用户不能根据他们的需要对文件进行分组。</li></ul><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.5vqb87ixk140.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.5vqb87ixk140.webp"></p><p>双层目录：每个用户都有单独的目录被维护。</p><ul><li>路径名称：由于两级目录，每个文件都有一个路径名称来定位该文件。</li><li>可以为不同的用户提供相同的文件名。</li><li>搜索是高效的。</li></ul><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6dvmc8qfews0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6dvmc8qfews0.webp"></p><p>树状结构的目录：目录是以树状形式维护的。搜索高效，也有分组的能力。我们对一个文件有绝对或相对的路径（absolute or relative path）名称。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.47skkxb8u3s0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.47skkxb8u3s0.webp"></p><h2 id="文件分配方法" tabindex="-1">文件分配方法 <a class="header-anchor" href="#文件分配方法" aria-hidden="true">#</a></h2><h3 id="连续分配（continuous-allocation）" tabindex="-1">连续分配（Continuous Allocation） <a class="header-anchor" href="#连续分配（continuous-allocation）" aria-hidden="true">#</a></h3><p>在创建文件时，为文件分配一套单一的连续块（single continuous set of blocks）。因此，这是一种预分配策略（pre-allocation strategy），使用可变大小的分区（variable size portions）。文件分配表（file allocation table）对每个文件只需要一个条目，显示起始块（ starting block）和文件的长度。从单个顺序文件的角度来看，这种方法是最好的。一次可以读入多个块，以提高顺序处理（sequential processing）的 I/O 性能。检索单个块也很容易。例如，如果一个文件从 b 块开始，想要该文件的第 i 个块，它在二级存储中的位置只是 <code>b+i-1</code> 。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6dp0uezeilc0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6dp0uezeilc0.webp"></p><p>劣势：</p><ul><li>会出现外部碎片（External fragmentation），使其难以找到足够长度的连续空间块。将有必要采用压缩算法（Compaction algorithm）来释放磁盘上的额外空间。</li><li>在预分配（pre-allocation）的情况下，有必要在创建时声明文件的大小。</li></ul><h3 id="链接分配（linked-allocation）" tabindex="-1">链接分配（Linked Allocation） <a class="header-anchor" href="#链接分配（linked-allocation）" aria-hidden="true">#</a></h3><p>链接分配（Linked Allocation），即非连接分配（Non-contiguous allocation）。分配是在单个块的基础上进行的。每个区块都包含一个指向链中下一个区块的指针。同样，文件表（file table）对每个文件只需要一个条目，显示起始块和文件的长度。尽管预分配是可能的，但更常见的是根据需要分配块。任何空闲的块都可以被添加到链上，且这些块不需要是连续的。如果有可用的磁盘块，增加文件大小总是可能的。没有外部碎片，因为每次只需要一个块，但可能有内部碎片（internal fragmentation），但它只存在于文件的最后一个磁盘块。</p><p>缺点：</p><ul><li>内部碎片存在于文件的最后一个磁盘块中。</li><li>维护每个磁盘块的指针是一种开销。</li><li>如果任何磁盘块的指针丢失，文件将被截断 (truncated)。</li><li>它只支持文件的顺序访问（sequential access）。</li></ul><h3 id="索引式分配（indexed-allocation）" tabindex="-1">索引式分配（Indexed Allocation） <a class="header-anchor" href="#索引式分配（indexed-allocation）" aria-hidden="true">#</a></h3><p>它解决了许多连续和链式分配的问题。在这种情况下，文件分配表（file allocation table）为每个文件包含一个单独的单级索引（one-level index）。该索引对分配给文件的每个块都有一个条目。分配可能是基于固定大小的块或可变大小的块。按块分配消除了外部碎片，而按可变大小的块（variable-size blocks）分配则提高了位置灵活性（locality）。这种分配技术同时支持对文件的顺序和直接访问，因此是最流行的文件分配形式。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.8xzrtm3bcs0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.8xzrtm3bcs0.webp"></p><p>磁盘空闲空间管理:</p><p>正如必须对分配给文件的空间进行管理一样，也必须对当前未分配给任何文件的空间进行管理。为了执行任何文件分配技术，有必要知道磁盘上有哪些块是可用的。因此，除了文件分配表（file allocation table）之外，我们还需要一个磁盘分配表（disk allocation table）。以下是用于空闲空间管理的方法：</p><ul><li>位表（Bit Tables）：这种方法使用一个向量，包含磁盘上每个块的一个比特。0 对应于一个空闲块，1 对应于一个正在使用的块。例如：00011010111100110001，在这个向量中，每一个比特都对应于一个特定的块，0 意味着该特定的块是空闲的，1 意味着该块已经被占用。位表的优点是比较容易找到一个或一组连续的空闲块。因此，位表与任何一种文件分配方法都能很好地工作。另一个优点是它足够的小。</li><li>空闲区块列表（Free Block List）：在这种方法中，每个区块都被按顺序分配一个号码，所有空闲区块的号码列表被保存在磁盘的一个保留区（reserved block）中。</li></ul><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.670yutlnz8o0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.670yutlnz8o0.webp"></p><h2 id="操作系统中的目录结构" tabindex="-1">操作系统中的目录结构 <a class="header-anchor" href="#操作系统中的目录结构" aria-hidden="true">#</a></h2><p>目录（directory）是一个容器，用于包含文件夹（folders）和文件。它以分层（hierarchical）的方式组织文件和文件夹。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.4qgs9ydhroy0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.4qgs9ydhroy0.webp"></p><p>一个目录有几种逻辑结构，下面给出了这些结构：</p><h3 id="单层目录" tabindex="-1">单层目录 <a class="header-anchor" href="#单层目录" aria-hidden="true">#</a></h3><p>单层目录（Single-level directory）是最简单的目录结构。所有的文件都包含在同一个目录中，这使得它很容易支持和理解。然而，当文件数量增加或系统有一个以上的用户时，单级目录有一个显著的限制。由于所有的文件都在同一个目录中，它们必须有一个唯一的名字。如果两个用户使用了相同的文件名字，那么就违反了唯一的名字规则。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.mfipix4k5sw.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.mfipix4k5sw.webp"></p><p>优势：</p><ul><li>由于它是一个单一的目录，所以它的实现非常容易。</li><li>如果文件的大小较小，搜索将变得更快。</li><li>在这样的目录结构中，像文件的创建、搜索、删除、更新等操作都非常容易。</li></ul><p>缺点：</p><ul><li>有可能出现名称冲突，因为两个文件可能有相同的名称。</li><li>如果目录很大，搜索将变得很费时。</li><li>它不能将相同类型的文件分组。</li></ul><h3 id="双层目录" tabindex="-1">双层目录 <a class="header-anchor" href="#双层目录" aria-hidden="true">#</a></h3><p>正如我们所看到的，单层目录经常导致不同用户之间文件名称的混淆。这个问题的解决方案是为每个用户创建一个单独的目录。</p><p>在双层目录结构（Two-level directory ）中，每个用户都有自己的用户文件目录（UFD，user files directory ）。UFD 有类似的结构，但每个都只列出一个用户的文件。系统的主文件目录（MFD，master file directory）每当有新的用户 id=s 登录时就会被搜索。MFD 是按用户名或帐号索引的，每个条目都指向该用户的 UFD。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.42z2t9386vw0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.42z2t9386vw0.webp"></p><p>优势：</p><ul><li>我们可以给出完整的路径，如 <code>/用户名/目录名/</code> 。</li><li>不同的用户可以拥有相同的目录和文件名。</li><li>由于路径名和用户分组（user-grouping），文件的搜索变得更容易。</li></ul><p>缺点:</p><ul><li>一个用户不允许与其他用户共享文件。</li><li>它的可扩展性不强，两个相同类型的文件不能在同一个用户中分组。</li></ul><h3 id="树结构目录" tabindex="-1">树结构目录 <a class="header-anchor" href="#树结构目录" aria-hidden="true">#</a></h3><p>一旦我们把两级目录看作是高度为 2 的树，自然的概括就是把目录结构扩展为任意高度（arbitrary height）的树。这种泛化允许用户创建他们自己的子目录，并相应地组织他们的文件。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6sfucf4816g0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6sfucf4816g0.webp"></p><p>树状结构是最常见的目录结构。树有一个根目录，系统中的每个文件都有一个唯一的路径。</p><p>优点：</p><ul><li>非常普遍，因为可以给出完整的路径名。</li><li>可扩展性很强，名称碰撞（name collision）的概率较小。</li><li>搜索变得非常容易，我们既可以使用绝对路径，也可以使用相对路径。</li></ul><p>缺点：</p><ul><li>每个文件都不适合分层模型（hierarchical model），文件可能被保存在多个目录中。</li><li>我们不能共享文件。</li><li>它的效率很低，因为访问一个文件可能要经过多个目录。</li></ul><h3 id="无环图目录（acyclic-graph-directory）" tabindex="-1">无环图目录（Acyclic graph directory） <a class="header-anchor" href="#无环图目录（acyclic-graph-directory）" aria-hidden="true">#</a></h3><p>无环图（acyclic graph）是一个没有环的图，允许我们共享子目录和文件。相同的文件或子目录可能在两个不同的目录中。它是树状结构目录的一个自然扩展。</p><p>它被用于像两个程序员在一个联合项目上工作，他们需要访问文件的情况。相关的文件被存储在一个子目录中，将它们与其他项目和其他程序员的文件分开，因为他们在一个联合项目上工作，所以他们希望子目录进入自己的目录。共同的子目录应该是共享的。所以在这里我们使用 Acyclic directories。</p><p>需要注意的是，共享文件和复制文件是不一样的。如果任何程序员在子目录中做了一些改变，它将影响到两个子目录。</p><div class="tip custom-block"><p class="custom-block-title">Acyclic Graph</p><p>无环图是一个没有循环的图（一个循环是一个完整的回路）。当沿着图从一个节点到另一个节点时，你将永远不会访问同一个节点两次。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.2vaesq18xsu0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.2vaesq18xsu0.webp"></p><p>一个连接的无环图，如上图，被称为树（tree）。如果树的一个或多个 &quot;分支&quot; 是断开的，那么这个无环图就被称为森林（forest）。</p></div><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.dlhbbrmv8jc.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.dlhbbrmv8jc.webp"></p><p>优势：</p><ul><li>可以共享文件。</li><li>由于有不同的路径，搜索起来很容易。</li></ul><p>劣势：</p><ul><li>通过链接（linking）共享文件，如果删除它可能会产生问题。</li><li>如果链接是一个软链接（soft link），那么在删除文件后，我们就会留下一个悬空的指针（dangling pointer）。</li><li>在硬链接（hard link）的情况下，要删除一个文件，我们必须删除与之相关的所有引用。</li></ul><h3 id="通用图目录（general-graph-directory）" tabindex="-1">通用图目录（General graph directory） <a class="header-anchor" href="#通用图目录（general-graph-directory）" aria-hidden="true">#</a></h3><p>在通用图目录结构中，允许在一个目录结构中出现循环（cycles），其中多个目录可以从一个以上的父目录中衍生出来。这种目录结构的主要问题是计算文件和目录所占用的总大小或空间比较复杂。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.5m255jt7wko0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.5m255jt7wko0.webp"></p><p>如果图中允许循环，那么就会出现几个问题：</p><ul><li>搜索算法可以进入无限循环（infinite loops）。一个解决方案是在搜索算法中不跟随链接。(或者不跟踪符号链接（symbolic links），而只允许符号链接指向目录）。</li><li>子树可以与树的其他部分断开连接，但它们的引用计数仍然没有减少到零。需要定期的垃圾收集来检测和解决这个问题。(DOS 中的 <code>chkdsk</code> 和 UNIX 中的 <code>fsck</code> 会搜索这些问题，以及其他问题，尽管在这两个系统中循环是不应该被允许的。没有被标记为空闲的磁盘块被重新添加到文件系统中，并使用新的文件名，通常可以安全地被删除。)</li></ul><div class="tip custom-block"><p class="custom-block-title">symbolic links</p><p>在计算机中，符号链接（也称为符号链接或软链接）是一个文件，其目的是通过指定一个文件或目录（称为 &quot;目标&quot;）的路径来指向该文件或目录。参考<a href="https://en.wikipedia.org/wiki/Symbolic_link" target="_blank" rel="noreferrer"> Symbolic link - Wikipedia</a></p></div><p>优势：</p><ul><li>它允许循环。</li><li>它比其他目录结构更灵活。</li></ul><p>缺点：</p><ul><li>它比其他结构的成本高。</li><li>它需要垃圾收集（garbage collection）。</li></ul><h2 id="操作系统中的文件分配方法" tabindex="-1">操作系统中的文件分配方法 <a class="header-anchor" href="#操作系统中的文件分配方法" aria-hidden="true">#</a></h2><p>分配方法定义了文件如何存储在磁盘块中。有三种主要的磁盘空间或文件分配方法：</p><ul><li>连续分配（Contiguous Allocation）</li><li>链接分配（Linked Allocation）</li><li>索引式分配（Indexed Allocation）</li></ul><p>这些方法的主要目标是：</p><ul><li>有效地利用磁盘空间。</li><li>对文件块的快速访问。</li></ul><p>所有这三种方法都有各自的优点和缺点，如下所述。</p><h3 id="连续分配" tabindex="-1">连续分配 <a class="header-anchor" href="#连续分配" aria-hidden="true">#</a></h3><p>在这个方案中，每个文件在磁盘上占用一组连续的块。例如，如果一个文件需要 n 个块，并被赋予一个块 b 作为起始位置，那么分配给文件的块将是： <code>b，b+1，b+2,......b+n-1</code> 。这意味着，给定起始区块地址和文件的长度（以所需区块计算），我们可以确定文件所占用的区块。</p><p>一个连续分配的文件的目录实体（directory entry）包括：</p><ul><li>起始块的地址</li><li>分配部分的长度</li></ul><p>下图中的文件 &quot;邮件&quot; 从 19 号块开始，长度 = 6 个块。因此，它占用了 19、20、21、22、23、24 块。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.1d736mako600.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.1d736mako600.webp"></p><p>优势：</p><ul><li>顺序（Sequential）访问和直接（Direct）访问都被支持。对于直接访问，从 b 块开始的文件的第 k 块的地址可以很容易地得到（b+k）。</li><li>由于文件块的连续分配，寻道（seeks）的次数很少，所以速度非常快。</li></ul><p>缺点：</p><ul><li>这种方法同时受到内部和外部碎片的影响。这使得它在内存利用方面的效率很低。</li><li>增加文件大小是很困难的，因为它取决于在一个特定实例中是否有连续的内存。</li></ul><h3 id="链接分配" tabindex="-1">链接分配 <a class="header-anchor" href="#链接分配" aria-hidden="true">#</a></h3><p>在这个方案中，每个文件是一个磁盘块的链表，这些磁盘块不需要是连续的。磁盘块可以散布在磁盘的任何地方。目录条目包含一个指向开始和结束文件块的指针。每个块都包含一个指向该文件所占用的下一个块的指针。</p><p>下图中的文件 &quot;jeep&quot; 显示了块是如何随机分布的。最后一个块（25）包含 - 1，表示一个空指针，不指向任何其他块。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.40jxqz7utze0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.40jxqz7utze0.webp"></p><p>优势：</p><ul><li>这在文件大小方面非常灵活。由于系统不需要寻找连续的内存块，所以文件大小可以很容易地增加。</li><li>这种方法不受外部碎片的影响。这使得它在内存利用率方面相对更好。</li></ul><p>缺点：</p><ul><li>因为文件块在磁盘上是随机分布的，需要大量的搜索来单独访问每个块。这使得链接分配速度较慢。</li><li>它不支持随机或直接访问。我们不能直接访问一个文件的块。一个文件的区块 k 可以通过区块指针从文件的起始区块依次遍历 k 个区块来访问（顺序访问）。</li><li>在链接分配中需要的指针会产生一些额外的开销。</li></ul><h3 id="索引分配" tabindex="-1">索引分配 <a class="header-anchor" href="#索引分配" aria-hidden="true">#</a></h3><p>在这个方案中，一个被称为索引块（Index block）的特殊块包含了一个文件所占用的所有块的指针。每个文件都有自己的索引块。索引块中的第 1 个条目包含第 1 个文件块的磁盘地址。目录条目包含索引块的地址，如图所示。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.2e70eaet3tog.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.2e70eaet3tog.webp"></p><p>优势：</p><ul><li>这支持直接访问文件所占用的块，因此提供了对文件块的快速访问。</li><li>它克服了外部碎片化的问题。</li></ul><p>缺点：</p><ul><li>索引式分配的指针开销比链接式分配大。</li><li>对于非常小的文件，例如只扩展了 2-3 个块的文件，索引式分配将为指针保留一整个块（索引块），这在内存利用方面是低效的。然而，在链接分配中，我们失去了每个块只有 1 个指针的空间。对于非常大的文件，单个索引块可能无法容纳所有的指针。</li></ul><p>以下机制可以用来解决这个问题：</p><ul><li>链接方案（Linked scheme）。这种方案将两个或更多的索引块链接在一起，以保存指针。然后，每个索引块将包含一个指针或到下一个索引块的地址。</li><li>多级索引（Multilevel index）。在这种策略中，第一级索引块用来指向第二级索引块，而第二级索引块又指向文件所占用的磁盘块。这可以扩展到 3 个或更多级别，取决于最大文件大小。</li><li>组合方案（Combined Scheme）。在这个方案中，一个叫做 Inode（信息节点）的特殊块包含了所有关于文件的信息，如名称、大小、权限等，Inode 的剩余空间用来存储包含实际文件的磁盘块地址，如下图所示。Inode 中的前几个指针指向直接块（direct blocks），即这些指针包含了包含文件数据的磁盘块的地址。接下来的几个指针则指向间接块（indirect blocks）。间接块可以是单间接块、双间接块或三间接块。单间接块（Single Indirect block）是不包含文件数据的磁盘块，但包含文件数据的磁盘块地址。同样，双间接块（double indirect blocks）也不包含文件数据，而是包含含有文件数据的区块地址的磁盘块的磁盘地址。</li></ul><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.22g7fqqj9hj4.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.22g7fqqj9hj4.webp"></p><h2 id="空闲空间管理" tabindex="-1">空闲空间管理 <a class="header-anchor" href="#空闲空间管理" aria-hidden="true">#</a></h2><p>系统会对空闲的磁盘块进行跟踪，以便在文件创建时为其分配空间。此外，为了重新利用删除文件所释放的空间，空闲空间管理变得至关重要。系统维护一个空闲空间列表（free space list），跟踪未分配给某些文件或目录的磁盘块。空闲空间列表主要可以实现为：</p><h3 id="位图或位向量法（bitmap-or-bit-vector）" tabindex="-1">位图或位向量法（Bitmap or Bit vector） <a class="header-anchor" href="#位图或位向量法（bitmap-or-bit-vector）" aria-hidden="true">#</a></h3><p>位图或位向量是一系列位（bits）的集合，每个位对应一个磁盘块。该位可以取两个值。0 和 1：0 表示该块已被分配，1 表示一个空闲块。图中磁盘上给定的磁盘块实例（其中绿色块被分配）可以用 16 位的位图表示为： <code>0000111000000110</code> 。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6m818d9u52g0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6m818d9u52g0.webp"></p><p>优势：</p><ul><li>简单易懂。</li><li>找到第一个空闲块是很有效的。它需要扫描位图中的字（一组 8 位），以寻找一个非零的字。(一个 0 值字的所有位都是 0)。然后通过扫描非零字中的第一个 1 比特来找到第一个空闲块。块数可以计算为：(每个字的位数）*（0 值字的数量）+ 非零字中第一个 1 位的偏移。</li></ul><h3 id="链表法（linked-list）" tabindex="-1">链表法（Linked List） <a class="header-anchor" href="#链表法（linked-list）" aria-hidden="true">#</a></h3><p>在这种方法中，空闲的磁盘块被链接在一起，即一个空闲块包含一个指向下一个空闲块的指针。第一个磁盘区块的区块号被存储在磁盘上的一个单独位置，同时也被缓存在内存中。</p><p><img data-zooming src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6db1hw0tc5w0.webp" alt="image" data-src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6db1hw0tc5w0.webp"></p><p>在图中，空闲空间列表的头部指向第 5 块，第 5 块指向第 6 块，即下一个空闲块，以此类推。最后一个空闲块将包含一个空指针，表示空闲列表的结束。</p><p>这种方法的一个缺点是空闲空间列表遍历需要 I/O 成本。</p><h3 id="分组法（grouping）" tabindex="-1">分组法（Grouping） <a class="header-anchor" href="#分组法（grouping）" aria-hidden="true">#</a></h3><p>这种方法将空闲块的地址存储在第一个空闲块中。第一个空闲区块存储了所有，例如 n 个空闲块的地址。在这 n 个块中，前 n-1 个块实际上是空闲的，最后一个块包含下一批空闲的 n 个块的地址。</p><p>这种方法的一个优点是可以很容易地找到一组空闲磁盘块的地址。</p><h3 id="计数法（counting）" tabindex="-1">计数法（Counting） <a class="header-anchor" href="#计数法（counting）" aria-hidden="true">#</a></h3><p>这种方法存储了第一个空闲磁盘块的地址，以及在第一个磁盘块之后的 n 个空闲磁盘块。列表中的每个条目都会包含：第一个空闲磁盘块的地址、一个数字 n。</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-84b3cd6c data-v-2fc9c0f9><div class="edit-info" data-v-2fc9c0f9><!----><div class="last-updated" data-v-2fc9c0f9><p class="VPLastUpdated" data-v-2fc9c0f9 data-v-3f5ecebf>最近更新: <time datatime="2022-10-28T10:16:45.000Z" data-v-3f5ecebf></time></p></div></div><div class="prev-next" data-v-2fc9c0f9><div class="pager" data-v-2fc9c0f9><a class="pager-link prev" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/06-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86" data-v-2fc9c0f9><span class="desc" data-v-2fc9c0f9>Previous page</span><span class="title" data-v-2fc9c0f9>📃 06-操作系统原理之内存管理</span></a></div><div class="has-prev pager" data-v-2fc9c0f9><a class="pager-link next" href="/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/08-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E4%B9%8B%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6" data-v-2fc9c0f9><span class="desc" data-v-2fc9c0f9>Next page</span><span class="title" data-v-2fc9c0f9>📃 08-操作系统原理之磁盘调度</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-49e234f8 data-v-9b299ed8><div class="container" data-v-9b299ed8><p class="message" data-v-9b299ed8>Released under the MIT License.</p><p class="copyright" data-v-9b299ed8>Copyright © 2022-present, made by Jonsam NG with 💖</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"cs_0-开始上手.md\":\"f1b398a7\",\"cs_01-vim操作表.md\":\"254f8887\",\"cs_操作系统_0-操作系统-开始阅读.md\":\"2fe28796\",\"cs_操作系统_00-操作系统原理之概述.md\":\"7dd9f7d7\",\"cs_操作系统_01-操作系统原理之进程与线程.md\":\"136ec8aa\",\"cs_操作系统_02-操作系统原理之cpu调度.md\":\"dea9915e\",\"cs_操作系统_03-操作系统原理之调度算法.md\":\"911de82c\",\"cs_操作系统_04-操作系统原理之进程同步.md\":\"aee04e05\",\"cs_操作系统_05-操作系统原理之死锁.md\":\"b998af25\",\"cs_操作系统_06-操作系统原理之内存管理.md\":\"9df79c11\",\"cs_操作系统_07-操作系统原理之文件系统.md\":\"d88b2ffe\",\"cs_操作系统_08-操作系统原理之磁盘调度.md\":\"0f2e8193\",\"cs_网络原理_0-网络原理-开始阅读.md\":\"e76f52ed\",\"cs_网络原理_00-计算机网络原理之概述.md\":\"990d8c80\",\"cs_网络原理_01-计算机网络原理之物理层.md\":\"3d5b78fc\",\"cs_网络原理_02-计算机网络原理之数据链路层.md\":\"a9f9d7e8\",\"cs_网络原理_03-计算机网络原理之网络层.md\":\"afe029f0\",\"cs_网络原理_04-计算机网络原理之传输层.md\":\"872dcf8e\",\"cs_网络原理_05-计算机网络原理之应用层.md\":\"f8abf8a1\",\"dsa_开始上手.md\":\"8e54b9a1\",\"dsa_数据结构_0-开始阅读.md\":\"816ce5d7\",\"dsa_数据结构_00-队列.md\":\"5716cdca\",\"web_开始上手.md\":\"2c024937\",\"index.md\":\"61eae596\",\"关于.md\":\"012c08fd\",\"示例.md\":\"4e2cb956\"}")</script>
    <script type="module" async src="/assets/app.13ad45ff.js"></script>
    
  </body>
</html>