<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络原理之传输层</title>
    <meta name="description" content="100 days to enhance your skills on JavaScript.">
    <link rel="stylesheet" href="/assets/style.81b12df7.css">
    <link rel="modulepreload" href="/assets/chunks/_virtual_my-module.f6562f39.js">
    <link rel="modulepreload" href="/assets/chunks/vue3-pdf-embed.7e7edf9b.js">
    <link rel="modulepreload" href="/assets/chunks/vue3-video-player.common.1ae1fc3f.js">
    <link rel="modulepreload" href="/assets/app.4f3d34f9.js">
    <link rel="modulepreload" href="/assets/CS_网络原理_04-计算机网络原理之传输层.md.b139b037.lean.js">
    
    <link rel="shortcut icon" href="/logo/favicon.ico" sizes="any">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#579871">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/logo/apple-touch-icon.png">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-e9d76f45><!--[--><!--]--><!--[--><span tabindex="-1" data-v-904c0883></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-904c0883> Skip to content </a><!--]--><!----><header class="VPNav" data-v-e9d76f45 data-v-b45b281b><div class="VPNavBar has-sidebar" data-v-b45b281b data-v-9b22e67a><div class="container" data-v-9b22e67a><div class="VPNavBarTitle has-sidebar" data-v-9b22e67a data-v-ea7a84d9><a class="title" href="/" data-v-ea7a84d9><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo/favicon-16x16.png" data-v-d9353ccb><!--]--><!--[-->100 days of JavaScript<!--]--><!--[--><!--]--></a></div><div class="content" data-v-9b22e67a><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9b22e67a><!--teleport start--><!--teleport end--><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9b22e67a data-v-6d4f937e><span id="main-nav-aria-label" class="visually-hidden" data-v-6d4f937e>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-6d4f937e data-v-526f3899><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-526f3899><span class="text" data-v-526f3899><!----> 📂 CS <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-526f3899><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-526f3899><div class="VPMenu" data-v-526f3899 data-v-5d68c276><div class="items" data-v-5d68c276><!--[--><!--[--><div class="VPMenuLink" data-v-5d68c276 data-v-182440f4><a class="VPLink link" href="/CS/%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" data-v-182440f4 data-v-8dadc7dc><!--[-->📃 开始上手<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5d68c276 data-v-182440f4><a class="VPLink link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/0-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" data-v-182440f4 data-v-8dadc7dc><!--[-->📂 网络原理<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-6d4f937e data-v-526f3899><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-526f3899><span class="text" data-v-526f3899><!----> More <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-526f3899><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-526f3899><div class="VPMenu" data-v-526f3899 data-v-5d68c276><div class="items" data-v-5d68c276><!--[--><!--[--><div class="VPMenuLink" data-v-5d68c276 data-v-182440f4><a class="VPLink link" href="https://source.jonsam.site" target="_blank" rel="noreferrer" data-v-182440f4 data-v-8dadc7dc><!--[-->源码阅读<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8dadc7dc><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5d68c276 data-v-182440f4><a class="VPLink link" href="https://dsa.jonsam.site" target="_blank" rel="noreferrer" data-v-182440f4 data-v-8dadc7dc><!--[-->Fancy-DSA<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8dadc7dc><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5d68c276 data-v-182440f4><a class="VPLink link" href="https://ox.jonsam.site" target="_blank" rel="noreferrer" data-v-182440f4 data-v-8dadc7dc><!--[-->氧气空间<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8dadc7dc><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5d68c276 data-v-182440f4><a class="VPLink link" href="http://docs.jonsam.site/project-5/" target="_blank" rel="noreferrer" data-v-182440f4 data-v-8dadc7dc><!--[-->深入学习设计模式<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8dadc7dc><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5d68c276 data-v-182440f4><a class="VPLink link" href="https://source.jonsam.site/nav" target="_blank" rel="noreferrer" data-v-182440f4 data-v-8dadc7dc><!--[-->导航<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8dadc7dc><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="https://www.jonsam.site" target="_blank" rel="noreferrer" data-v-6d4f937e data-v-136ef7ac data-v-8dadc7dc><!--[-->Blog<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9b22e67a data-v-460933bc><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-460933bc data-v-5ac01f6f data-v-ee49a50f><span class="check" data-v-ee49a50f><span class="icon" data-v-ee49a50f><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-5ac01f6f><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-5ac01f6f><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9b22e67a data-v-9059bf8e data-v-44146ccd><!--[--><a class="VPSocialLink" href="https://github.com/jonsam-ng/100-day-of-js-enhance" target="_blank" rel="noopener" data-v-44146ccd data-v-57443466><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9b22e67a data-v-21471cfd data-v-526f3899><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-526f3899><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-526f3899><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-526f3899><div class="VPMenu" data-v-526f3899 data-v-5d68c276><!----><!--[--><!--[--><!----><div class="group" data-v-21471cfd><div class="item appearance" data-v-21471cfd><p class="label" data-v-21471cfd>Appearance</p><div class="appearance-action" data-v-21471cfd><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-21471cfd data-v-5ac01f6f data-v-ee49a50f><span class="check" data-v-ee49a50f><span class="icon" data-v-ee49a50f><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-5ac01f6f><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-5ac01f6f><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-21471cfd><div class="item social-links" data-v-21471cfd><div class="VPSocialLinks social-links-list" data-v-21471cfd data-v-44146ccd><!--[--><a class="VPSocialLink" href="https://github.com/jonsam-ng/100-day-of-js-enhance" target="_blank" rel="noopener" data-v-44146ccd data-v-57443466><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9b22e67a data-v-ddaf8df7><span class="container" data-v-ddaf8df7><span class="top" data-v-ddaf8df7></span><span class="middle" data-v-ddaf8df7></span><span class="bottom" data-v-ddaf8df7></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-e9d76f45 data-v-a65b81a7><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a65b81a7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a65b81a7><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a65b81a7>Menu</span></button><a class="top-link" href="#" data-v-a65b81a7> Return to top </a></div><aside class="VPSidebar" data-v-e9d76f45 data-v-a60304ca><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a60304ca><span class="visually-hidden" id="sidebar-aria-label" data-v-a60304ca> Sidebar Navigation </span><!--[--><div class="group" data-v-a60304ca><section class="VPSidebarGroup collapsible" data-v-a60304ca data-v-84d5e8ef><div class="title" role="button" data-v-84d5e8ef><h2 class="title-text" data-v-84d5e8ef>📂 文章</h2><div class="action" data-v-84d5e8ef><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-84d5e8ef><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-84d5e8ef><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-84d5e8ef><!--[--><!--[--><a class="VPLink link link" href="/CS/%E5%BC%80%E5%A7%8B%E4%B8%8A%E6%89%8B" style="padding-left:0px;" data-v-0eb85913 data-v-8dadc7dc><!--[--><span class="link-text" data-v-0eb85913>📃 开始上手</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-a60304ca><section class="VPSidebarGroup collapsible" data-v-a60304ca data-v-84d5e8ef><div class="title" role="button" data-v-84d5e8ef><h2 class="title-text" data-v-84d5e8ef>📂 网络原理</h2><div class="action" data-v-84d5e8ef><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-84d5e8ef><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-84d5e8ef><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-84d5e8ef><!--[--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/0-%E5%BC%80%E5%A7%8B%E9%98%85%E8%AF%BB" style="padding-left:0px;" data-v-0eb85913 data-v-8dadc7dc><!--[--><span class="link-text" data-v-0eb85913>📃 0-开始阅读</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/00-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E6%A6%82%E8%BF%B0" style="padding-left:0px;" data-v-0eb85913 data-v-8dadc7dc><!--[--><span class="link-text" data-v-0eb85913>📃 00-计算机网络原理之概述</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/01-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E7%89%A9%E7%90%86%E5%B1%82" style="padding-left:0px;" data-v-0eb85913 data-v-8dadc7dc><!--[--><span class="link-text" data-v-0eb85913>📃 01-计算机网络原理之物理层</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/02-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82" style="padding-left:0px;" data-v-0eb85913 data-v-8dadc7dc><!--[--><span class="link-text" data-v-0eb85913>📃 02-计算机网络原理之数据链路层</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/03-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E7%BD%91%E7%BB%9C%E5%B1%82" style="padding-left:0px;" data-v-0eb85913 data-v-8dadc7dc><!--[--><span class="link-text" data-v-0eb85913>📃 03-计算机网络原理之网络层</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/04-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E4%BC%A0%E8%BE%93%E5%B1%82" style="padding-left:0px;" data-v-0eb85913 data-v-8dadc7dc><!--[--><span class="link-text" data-v-0eb85913>📃 04-计算机网络原理之传输层</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/05-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E5%BA%94%E7%94%A8%E5%B1%82" style="padding-left:0px;" data-v-0eb85913 data-v-8dadc7dc><!--[--><span class="link-text" data-v-0eb85913>📃 05-计算机网络原理之应用层</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-e9d76f45 data-v-cc187735><div class="VPDoc has-sidebar has-aside" data-v-cc187735 data-v-9ef6ad66><div class="container" data-v-9ef6ad66><div class="aside" data-v-9ef6ad66><div class="aside-curtain" data-v-9ef6ad66></div><div class="aside-container" data-v-9ef6ad66><div class="aside-content" data-v-9ef6ad66><div class="VPDocAside" data-v-9ef6ad66 data-v-c0ea8645><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-c0ea8645 data-v-3545326f><div class="content" data-v-3545326f><div class="outline-marker" data-v-3545326f></div><div class="outline-title" data-v-3545326f>🔗 内容纲要：</div><nav aria-labelledby="doc-outline-aria-label" data-v-3545326f><span class="visually-hidden" id="doc-outline-aria-label" data-v-3545326f> Table of Contents for current page </span><ul class="root" data-v-3545326f data-v-424f8014><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-c0ea8645></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-9ef6ad66><div class="content-container" data-v-9ef6ad66><!--[--><!--]--><main class="main" data-v-9ef6ad66><div style="position:relative;" class="vp-doc _CS_%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86_04-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E4%BC%A0%E8%BE%93%E5%B1%82" data-v-9ef6ad66><div><h1 id="计算机网络原理之传输层" tabindex="-1">计算机网络原理之传输层 <a class="header-anchor" href="#计算机网络原理之传输层" aria-hidden="true">#</a></h1><div class="badge-group" data-v-4ecad2c5><span class="group-tag" data-v-4ecad2c5>标签：</span><!--[--><span class="badge tip" style="vertical-align:middle;" data-v-4ecad2c5 data-v-dd429f7e>计算机网络</span><!--]--></div><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-hidden="true">#</a></h2><nav class="table-of-contents"><ul><li><a href="#目录">目录</a></li><li><a href="#韩立刚计算机网络：传输层">韩立刚计算机网络：传输层</a></li><li><a href="#传输层的两个协议">传输层的两个协议</a><ul><li><a href="#tcp-和-udp-的应用场景">TCP 和 UDP 的应用场景</a></li><li><a href="#传输层协议和应用层协议之间的关系">传输层协议和应用层协议之间的关系</a></li><li><a href="#服务和端口之间的关系">服务和端口之间的关系</a></li></ul></li><li><a href="#用户数据报协议-udp">用户数据报协议 UDP</a><ul><li><a href="#udp-协议的特点">UDP 协议的特点</a></li><li><a href="#udp-的首部格式">UDP 的首部格式</a></li></ul></li><li><a href="#传输控制协议-tcp">传输控制协议 TCP</a><ul><li><a href="#tcp-协议主要的特点">TCP 协议主要的特点</a></li><li><a href="#tcp-报文的首部格式">TCP 报文的首部格式</a></li></ul></li><li><a href="#可靠传输">可靠传输</a><ul><li><a href="#tcp-可靠传输的实现-停止等待协议">TCP 可靠传输的实现 - 停止等待协议</a></li><li><a href="#连续-arq-协议和互动窗口协议-改进的停止等待协议">连续 ARQ 协议和互动窗口协议 - 改进的停止等待协议</a></li><li><a href="#以字节为单位的滑动窗口技术详解">以字节为单位的滑动窗口技术详解</a></li><li><a href="#改进的确认-选择确认（sack）">改进的确认 - 选择确认（SACK）</a></li><li><a href="#超时重传的时间调整">超时重传的时间调整</a></li></ul></li><li><a href="#流量控制">流量控制</a></li><li><a href="#拥塞控制">拥塞控制</a><ul><li><a href="#拥塞控制的原理">拥塞控制的原理</a></li><li><a href="#拥塞控制方法-慢开始和拥塞避免">拥塞控制方法 - 慢开始和拥塞避免</a></li><li><a href="#拥塞控制方法-快重传和快恢复">拥塞控制方法 - 快重传和快恢复</a></li><li><a href="#发送窗口的上限">发送窗口的上限</a></li></ul></li><li><a href="#tcp-连接管理">TCP 连接管理</a><ul><li><a href="#tcp-的连接建立">TCP 的连接建立</a></li><li><a href="#tcp-连接释放">TCP 连接释放</a></li></ul></li><li><a href="#来源文章">来源文章</a></li></ul></nav><h2 id="韩立刚计算机网络：传输层" tabindex="-1">韩立刚计算机网络：传输层 <a class="header-anchor" href="#韩立刚计算机网络：传输层" aria-hidden="true">#</a></h2><!----><h2 id="传输层的两个协议" tabindex="-1">传输层的两个协议 <a class="header-anchor" href="#传输层的两个协议" aria-hidden="true">#</a></h2><h3 id="tcp-和-udp-的应用场景" tabindex="-1">TCP 和 UDP 的应用场景 <a class="header-anchor" href="#tcp-和-udp-的应用场景" aria-hidden="true">#</a></h3><p>网络中的计算机通信无外乎有以下两种情况：</p><ul><li>要发送的内容多，需要将发送的内容分成多个数据包发送。</li><li>要发送的内容少，一个数据包就能发送全部内容。</li></ul><p>针对这两种情况，在传输层有两个协议，TCP（Transmission Control Protocol 即传输控制协议）和 UDP（User Datagram Protocol 即用户数据报协议）。</p><h3 id="传输层协议和应用层协议之间的关系" tabindex="-1">传输层协议和应用层协议之间的关系 <a class="header-anchor" href="#传输层协议和应用层协议之间的关系" aria-hidden="true">#</a></h3><p>应用层协议很多，传输层就两个协议，如何使用传输层两个协议标识应用层协议呢？传输层协议加一个端口号来标识一个应用层协议，展示了传输层协议和应用层协议之间的关系。</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.5hcajeks2rw0.webp" alt="image"></p><p><strong>一些常见的应用层协议和传输层协议，以及它们之间的关系</strong>：</p><ul><li>HTTP 默认使用 TCP 的 80 端口标识。</li><li>FTP 默认使用 TCP 的 21 端口标识。</li><li>SMTP 默认使用 TCP 的 25 端口标识。</li><li>POP3 默认使用 TCP 的 110 端口。</li><li>HTTPS 默认使用 TCP 的 443 端口。</li><li>DNS 使用 UDP 的 53 端口。</li><li>远程桌面协议（RDP）默认使用 TCP 的 3389 端口。</li><li>Telnet 使用 TCP 的 23 端口。</li><li>Windows 访问共享资源使用 TCP 的 445 端口。</li><li>微软 SQL 数据库默认使用 TCP 的 1433 端口。</li><li>mySQL 数据库默认使用 TCP 的 3306 端口。</li></ul><h3 id="服务和端口之间的关系" tabindex="-1">服务和端口之间的关系 <a class="header-anchor" href="#服务和端口之间的关系" aria-hidden="true">#</a></h3><p>Windows 和 Linux 操作系统有些服务为本地计算机提供服务，有些服务为网络中的计算机提供服务。为网络中计算机提供服务的服务，一旦启动就会使用 TCP 或 UDP 的某个端口侦听客户端的请求。</p><h2 id="用户数据报协议-udp" tabindex="-1">用户数据报协议 UDP <a class="header-anchor" href="#用户数据报协议-udp" aria-hidden="true">#</a></h2><h3 id="udp-协议的特点" tabindex="-1">UDP 协议的特点 <a class="header-anchor" href="#udp-协议的特点" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6boukqv9ziw0.webp" alt="image"></p><ul><li>UDP 是无连接的，即发送数据之前不需要建立连接（当然发送数据结束时也没有连接可释放），因此减少了开销和发送数据之前的时延。</li><li>UDP 使用<strong>尽最大努力交付</strong>，即不保证可靠交付，因此主机不需要维持复杂的连接状态表（这里面有许多参数），通信的两端不用保持连接，因此节省系统资源。</li><li>UDP 是<strong>面向报文</strong>的，发送方的 UDP 对应用程序交下来的报文，在添加首部后就向下交付给网络层。UDP 对应用层交下来的报文，<strong>既不合并，也不拆分</strong>，而是保留这些报文的边界。</li><li>UDP 没有拥塞控制，因此网络出现的拥塞不会使源主机的发送速率降低。这对某些实时应用是很重要的。</li><li>UDP 支持一对一、一对多、多对一和多对多的交互通信。</li><li>UDP 的首部开销小，只有 8 个字节，比 TCP 的 20 个字节的首部要短。</li></ul><h3 id="udp-的首部格式" tabindex="-1">UDP 的首部格式 <a class="header-anchor" href="#udp-的首部格式" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.1n5zmohrljnk.webp" alt="image"></p><p>UDP 的首部包括四个字段，源端口、目标端口、长度和校验和，每个字段的长度是两个字节。<strong>伪首部</strong>包括：源地址、目的地址、UDP 数据长度、协议类型（0x11），协议类型就一个字节，但需要补一个字节的 0x0，构成 12 个字节。</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.gh2ccf00at4.webp" alt="image"></p><p><strong>计算 UDP 检验和的例子</strong>：</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.66cg82shxp80.webp" alt="image"></p><h2 id="传输控制协议-tcp" tabindex="-1">传输控制协议 TCP <a class="header-anchor" href="#传输控制协议-tcp" aria-hidden="true">#</a></h2><h3 id="tcp-协议主要的特点" tabindex="-1">TCP 协议主要的特点 <a class="header-anchor" href="#tcp-协议主要的特点" aria-hidden="true">#</a></h3><ul><li>TCP 是面向连接的传输层协议。这就是说，应用程序在使用 TCP 协议之前，必须 先建立 TCP 连接。在传送数据完毕后，必须释放已经建立的 TCP 连接。这就是说，应用 进程之间的通信好像在 “打电话”：通话前要先拨号建立连接，通话结束后要挂机释放连接。</li><li>每一条 TCP 连接只能有两个端点（endpoint），每一条 TCP 连接只能是点对点的 （一对一）。</li><li>TCP 提供<strong>可靠交付的服务</strong>。也就是说，通过 TCP 连接传送的数据，无差错、不丢失、不重复、且按序发送。</li><li>TCP 提供<strong>全双工通信</strong>。TCP 允许通信双方的应用进程在任何时候都能发送数据。TCP 连接的两端都设有<strong>发送缓存和接收缓存</strong>，用来临时存放双向通信的数据。在发送时，应用程序把数据传送给 TCP 的缓存后，就可以做自己的事，而 TCP 在合适的时候把数据发送出去。在接收时，TCP 把收到的数据放入缓存，上层的应用进程在合适的时候读取缓存中的数据。</li><li><strong>面向字节流</strong>。TCP 中的 “流”（steam）指的是流入到进程或从进程流出的字节序列。</li></ul><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.fot0gm9ceaw.webp" alt="image"></p><h3 id="tcp-报文的首部格式" tabindex="-1">TCP 报文的首部格式 <a class="header-anchor" href="#tcp-报文的首部格式" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.12zmciccrtow.webp" alt="image"></p><p>TCP 协议是能够实现数据分段传输、可靠传输、流量控制、网络拥塞避免等功能，因此 TCP 报文的首部要比 UDP 报文首部字段要多，并且首部长度不固定。</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.5y2auytsjn00.webp" alt="image"></p><ul><li>源端口和目的端口：各占 2 个字节，分别写入源端口号和目的端口号。和前面图所示的 UDP 的分用相似，TCP 的分用功能也是通过端口实现的。</li><li>序号：占 4 字节。序号范围是 [0，232-1]，共 232（即 4 294 967 296）个序号。序号增加到 232-1 后，下一个序号就又回到 0。TCP 是面向字节流的。在一个 TCP 连接中传送的字节流中的每一个字节都按顺序编号。</li><li>确认号：占 4 字节，是期望收到对方下一个报文段的第一个数据字节的序号。 <ul><li>TCP 协议能够实现可靠传输，接收方收到几个数据包后，就会给发送方一个确认数据包，告诉发送方下一个数据包该发第多少个字节了。</li><li>若确认号是 N，则表明：到序号 N-1 为止的所有数据都已正确收到。</li></ul></li><li>数据偏移：占 4 位，它指出 TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远。这个字段实际上是指出 TCP 报文段的首部长度。由于首部中还有长度不确定的选项字段，因此数据偏移字段是必要的。但请注意，“数据偏移” 的单位为 4 字节，由于 4 位二进制数能够表示的最大十进制数字是 15，因此数据偏移的最大值是 60 字节，这也是 TCP 首部的最大长度，这也就意味着选项长度不能超过 40 字节。</li><li>保留：占 6 位，保留为今后使用，但目前应置为 0。</li><li>紧急：URG（URGent） 当 URG=l 时，表明紧急指针字段有效。它告诉系统此报文段中有紧急数据，应尽快传送（相当于高优先级的数据），而不要按原来的排队顺序来传送。</li><li>确认：ACK（ACKnowlegment） 仅当 ACK=1 时确认号字段才有效。当 ACK=0 时，确认号无效。TCP 规定，在连接建立后所有传送的报文段都必须把 ACK 置 1。‘</li><li>推送：PSH（PuSH） 当两个应用进程进行交互式的通信时，有时在一端的应用进程希望在键入一个命令后立即就能够收到对方的响应。</li><li>复位：RST（ReSeT） 当 RST=l 时，表明 TCP 连接中出现严重差错（如由于主机崩溃或其他原因），必须释放连接，然后再重新建立运输连接。</li><li>同步：SYN（SYNchronization） 在连接建立时用来同步序号。当 SYN=1 而 ACK=0 时，表明这是一个连接请求报文段。对方若同意建立连接，则应在响应的报文段中使 SYN=1 和 ACK=1。因此，SYN 置为 1 就表示这是一个连接请求或连接接受报文。</li><li>终止：FIN（FINish 意思是 “完”、“终”） 用来释放一个连接。当 FIN=1 时，表明此报文段的发送方的数据己发送完毕，并要求释放传输连接。</li><li>窗口：占 2 字节。窗口值是 [0，216-1] 之间的整数。TCP 协议有流量控制功能，窗口值告诉对方：从本报文段首部中的确认号算起，接收方目前允许对方发送的数据量（单位是字节）。</li><li>检验和：占 2 字节。检验和字段检验的范围包括首部和数据这两部分。和 UDP 用户数据报一样，在计算检验和时，要在 TCP 报文段的前面加上 12 字节的伪首部。</li><li>紧急指针：占 2 字节。紧急指针仅在 URG=1 时才有意义，它指出本报文段中的紧急数据的字节数（紧急数据结束后就是普通数据）。因此紧急指针指出了紧急数据的末尾在报文段中的位置。</li><li>选项：长度可变，最长可达 40 个字节。当没有使用选项时，TCP 的首部长度是 20 字节。TCP 最初只规定了一种选项，即最大报文段长度 MSS（Maximum Segment Size）。</li></ul><h2 id="可靠传输" tabindex="-1">可靠传输 <a class="header-anchor" href="#可靠传输" aria-hidden="true">#</a></h2><h3 id="tcp-可靠传输的实现-停止等待协议" tabindex="-1">TCP 可靠传输的实现 - 停止等待协议 <a class="header-anchor" href="#tcp-可靠传输的实现-停止等待协议" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.2i1g90mxqfw0.webp" alt="image"></p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.5zz12al7gi80.webp" alt="image"></p><h3 id="连续-arq-协议和互动窗口协议-改进的停止等待协议" tabindex="-1">连续 ARQ 协议和互动窗口协议 - 改进的停止等待协议 <a class="header-anchor" href="#连续-arq-协议和互动窗口协议-改进的停止等待协议" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.79zzcfcuoms0.webp" alt="image"></p><h3 id="以字节为单位的滑动窗口技术详解" tabindex="-1">以字节为单位的滑动窗口技术详解 <a class="header-anchor" href="#以字节为单位的滑动窗口技术详解" aria-hidden="true">#</a></h3><p>滑动窗口是面向字节流的，为了方便大家记住每个分组的序号，下面的讲解每一个分组就假设 100 个字节，为了方便画图表示，将分组进行编号简化表示，如图所示，不过你要记住，每一个分组的序号是多少。</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.3fvtsn42oqc.webp" alt="image"></p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.fm1ref85k1k.webp" alt="image"></p><h3 id="改进的确认-选择确认（sack）" tabindex="-1">改进的确认 - 选择确认（SACK） <a class="header-anchor" href="#改进的确认-选择确认（sack）" aria-hidden="true">#</a></h3><p>TCP 通信时，如果发送序列中间某个数据包丢失，TCP 会通过重传最后确认的分组后续的分组，这样原先已经正确传输的分组也可能重复发送，降低了 TCP 性能。为改善这种情况，发展出 SACK（Selective Acknowledgment，选择确认）技术，使 TCP 只重新发送丢失的包，不用发送后续所有的分组，而且提供相应机制使接收方能告诉发送方哪些数据丢失，哪些数据已经提前收到等。</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.hf19kkdbets.webp" alt="image"></p><p><strong>选择性确认最多表示 4 个边界</strong>：</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.4jt4gs4x34o0.webp" alt="image"></p><h3 id="超时重传的时间调整" tabindex="-1">超时重传的时间调整 <a class="header-anchor" href="#超时重传的时间调整" aria-hidden="true">#</a></h3><p>TCP 的发送方在规定的时间内没有收到确认就要重传己发送的报文段。这种重传的概念是很简单的，但重传时间的选择却是 TCP 最复杂的问题之一。传输层的超时计时器的超时重传时间究竟应设置为多大呢？TCP 往返传输时间 （RTT） 的测量可以采用两种方法：</p><ul><li><p>TCP Timestamp 选项：TCP 时间戳选项可以用来精确的测量 RTT。发送方在发送报文段时把当前时钟的时间值放入时间戳字段，接收方在确认该报文段时把时间戳字段值复制到时间戳回送回答字段。 因此，发送方在收到确认报文后，可以准确地计算出 RTT 来。RTT = 当前时间 - 数据包中 Timestamp 选项的回显时间。</p></li><li><p>重传队列中数据包的 TCP 控制块：在 TCP 发送窗口中保存着发送而未被确认的数据包，数据包 skb 中的 TCP 控制块包含着一个变量， tcp_skb_cb when，记录了该数据包的第一次发送时间，当收到该数据包确认， 就可以计算 RTT，RTT = 当前时间 - when。这就意味着发送端收到一个确认，就能计算新 的 RTT。</p></li></ul><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.76gyod645m80.webp" alt="image"></p><p><strong>RTT 调整</strong>：</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.7is1ufs2lwo0.webp" alt="image"></p><p><strong>超时计时器设置的超时重传时间 RTO</strong>：</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.596dlhwzdyc0.webp" alt="image"></p><h2 id="流量控制" tabindex="-1">流量控制 <a class="header-anchor" href="#流量控制" aria-hidden="true">#</a></h2><h2 id="拥塞控制" tabindex="-1">拥塞控制 <a class="header-anchor" href="#拥塞控制" aria-hidden="true">#</a></h2><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.115ne8v4d9hs.webp" alt="image"></p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.1jfonj10ym4g.webp" alt="image"></p><h3 id="拥塞控制的原理" tabindex="-1">拥塞控制的原理 <a class="header-anchor" href="#拥塞控制的原理" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6exfi7t5bng0.webp" alt="image"></p><h3 id="拥塞控制方法-慢开始和拥塞避免" tabindex="-1">拥塞控制方法 - 慢开始和拥塞避免 <a class="header-anchor" href="#拥塞控制方法-慢开始和拥塞避免" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.3guelzm9sf60.webp" alt="image"></p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.1qpaxkirzy00.webp" alt="image"></p><h3 id="拥塞控制方法-快重传和快恢复" tabindex="-1">拥塞控制方法 - 快重传和快恢复 <a class="header-anchor" href="#拥塞控制方法-快重传和快恢复" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6358x50u3o00.webp" alt="image"></p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.4c2depogcjq0.webp" alt="image"></p><h3 id="发送窗口的上限" tabindex="-1">发送窗口的上限 <a class="header-anchor" href="#发送窗口的上限" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.3bpzdoek8j20.webp" alt="image"></p><h2 id="tcp-连接管理" tabindex="-1">TCP 连接管理 <a class="header-anchor" href="#tcp-连接管理" aria-hidden="true">#</a></h2><h3 id="tcp-的连接建立" tabindex="-1">TCP 的连接建立 <a class="header-anchor" href="#tcp-的连接建立" aria-hidden="true">#</a></h3><p>请求建立 TCP 连接的数据包：</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.5rx5gdaro6w0.webp" alt="image"></p><p>TCP 连接建立的数据包:</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.6d1kkwsgnvg.webp" alt="image"></p><p>确认的确认:</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.49wynat9ifo.webp" alt="image"></p><p>TCP 连接建立的过程：</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.7dpzor1kwlo0.webp" alt="image"></p><h3 id="tcp-连接释放" tabindex="-1">TCP 连接释放 <a class="header-anchor" href="#tcp-连接释放" aria-hidden="true">#</a></h3><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.246c58450vi8.webp" alt="image"></p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.ghcz6990jg0.webp" alt="image"></p><p>查看 TCP 连接释放的数据包：</p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.1kue6cd8k9wg.webp" alt="image"></p><p><img src="https://cdn.staticaly.com/gh/jonsam-ng/image-hosting@master/2022/image.1w5jj04j7rog.webp" alt="image"></p><h2 id="来源文章" tabindex="-1">来源文章 <a class="header-anchor" href="#来源文章" aria-hidden="true">#</a></h2><ul><li><a href="https://blog.csdn.net/LeeQiang8023/article/details/106174218" target="_blank" rel="noreferrer">计算机网络原理笔记 精整理 第五章 传输层</a></li></ul></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-9ef6ad66 data-v-a65454de><div class="edit-info" data-v-a65454de><!----><div class="last-updated" data-v-a65454de><p class="VPLastUpdated" data-v-a65454de data-v-a3cc152c>最近更新: <time datatime="2022-09-24T05:31:34.000Z" data-v-a3cc152c></time></p></div></div><div class="prev-next" data-v-a65454de><div class="pager" data-v-a65454de><a class="pager-link prev" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/03-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E7%BD%91%E7%BB%9C%E5%B1%82" data-v-a65454de><span class="desc" data-v-a65454de>Previous page</span><span class="title" data-v-a65454de>📃 03-计算机网络原理之网络层</span></a></div><div class="has-prev pager" data-v-a65454de><a class="pager-link next" href="/CS/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/05-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E4%B9%8B%E5%BA%94%E7%94%A8%E5%B1%82" data-v-a65454de><span class="desc" data-v-a65454de>Next page</span><span class="title" data-v-a65454de>📃 05-计算机网络原理之应用层</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-e9d76f45 data-v-9fb12f73><div class="container" data-v-9fb12f73><p class="message" data-v-9fb12f73>Released under the MIT License.</p><p class="copyright" data-v-9fb12f73>Copyright © 2022-present, made by Jonsam NG with 💖</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"cs_开始上手.md\":\"87c7d5d2\",\"cs_网络原理_0-开始阅读.md\":\"e33a031b\",\"cs_网络原理_00-计算机网络原理之概述.md\":\"86dee69d\",\"cs_网络原理_01-计算机网络原理之物理层.md\":\"0854f97c\",\"cs_网络原理_02-计算机网络原理之数据链路层.md\":\"5c03019e\",\"cs_网络原理_03-计算机网络原理之网络层.md\":\"4fbcd167\",\"cs_网络原理_04-计算机网络原理之传输层.md\":\"b139b037\",\"cs_网络原理_05-计算机网络原理之应用层.md\":\"3908983b\",\"index.md\":\"000ea017\"}")</script>
    <script type="module" async src="/assets/app.4f3d34f9.js"></script>
    
  </body>
</html>